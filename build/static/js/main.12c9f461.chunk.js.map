{"version":3,"sources":["components/DailyGraphs/LineGraphDaily/lineGraphDaily.module.css","UI/Buttons/boringButton.module.css","UI/ToolTips/tinyToolTip.module.css","UI/Buttons/AttributeBtns/attributeBtns.module.css","components/Footer/footer.module.css","components/Counties/SectionsUI/CountyBtns/countyBtns.module.css","components/Counties/Sections/countiesSideSection.module.css","components/Counties/LineGraph/lineGraph2.module.css","components/AltStats/altStats.module.css","components/Counties/TreeGraph/countyTile.module.css","components/layout.js","UI/Sections/SectionWrapper/sectionWrapper.js","UI/Graphs/line.js","components/Summary/tinyAxis.js","components/Summary/tinySvgLine.js","components/Summary/summaryBox.js","UI/error.js","UI/loading.js","util-functions.js","constants.js","components/Summary/summary.js","components/DailyPage/ExtraInfo/extraInfo.js","Store/store.js","components/DailyAndProfileData/dailyGraphsConfig.js","components/DailyAndProfileData/profileStatsConfig.js","components/DailyAndProfileData/dailyGraphs-store.js","UI/Sections/SectionWrap/sectionWrap.js","UI/Sections/SectionMain/sectionMain.js","UI/Sections/SectionSide/sectionSide.js","UI/Sections/SectionHeader/sectionHeader.js","UI/Graphs/axis.js","UI/Graphs/yAxisLabel.js","UI/Graphs/HoverRectangles/hoverRect.js","UI/Graphs/HoverRectangles/hoverRectangles.js","UI/Buttons/boringButton.js","UI/Graphs/Dots/dots.js","UI/ToolTips/tinyToolTip.js","components/DailyGraphs/LineGraphDaily/lineGraphDaily.js","UI/Buttons/AttributeBtns/attributeBtns.js","UI/AltTextBox/altTextBox.js","components/DailyGraphs/dailyGraphs.js","components/DailyPage/dailyPage.js","components/Header/header.js","components/Footer/footer.js","components/Counties/counties-store.js","UI/Buttons/SelectGraphBtnGroup/selectGraphBtnGroup.js","img/ctrlSvg.js","components/Counties/ClickArrows/clickArrows.js","components/Counties/Sections/countiesSideSectionHeader.js","components/Counties/TextBox/textBox.js","components/Counties/SectionsUI/CountyBtns/countyBtns.js","components/Counties/Sections/countiesSideSection.js","components/Counties/Sections/countiesSection.js","UI/Graphs/xAxisLabel.js","components/Counties/BarChart/barChart.js","components/Counties/LineGraph/line.js","components/Counties/ClickRectangles/clickRect.js","components/Counties/ClickRectangles/clickRectangles.js","components/Counties/LineGraph/lineGraph.js","components/Counties/TreeGraph/countyTile.js","components/Counties/TreeGraph/countyTiles.js","components/Counties/TreeGraph/treeGraph.js","components/Counties/counties.js","components/Contact/contactForm.js","components/Contact/contact.js","components/AltStats/altStatsGraphs.js","components/AltStats/altStats.js","App.js","serviceWorker.js","index.js","components/Header/header.module.css","UI/AltTextBox/altTextBox.module.css","components/Contact/contact.module.css","components/Counties/ClickArrows/clickArrows.module.css","components/Summary/summary.module.css","components/Summary/tinyAxis.module.css","UI/Graphs/axis.module.css","UI/Graphs/Dots/dots.module.css","UI/Buttons/SelectGraphBtnGroup/selectGraphBtnGroup.module.css","components/Counties/BarChart/barChart.module.css","components/Counties/TextBox/textBox.module.css","components/layout.module.css","UI/Sections/SectionWrapper/sectionWrapper.module.css","components/Summary/tinySvgLine.module.css","components/Summary/summaryBox.module.css","UI/loading.module.css","components/DailyGraphs/dailyGraphs.module.css","UI/Sections/SectionWrap/sectionWrap.module.css","UI/Sections/SectionMain/sectionMain.module.css","UI/Sections/SectionSide/sectionSide.module.css","UI/Sections/SectionHeader/sectionHeader.module.css"],"names":["module","exports","layout","children","className","classes","pageWrap","SectionWrapper","sectionWrapper","Line","altGraphData","xScale","yScale","fieldName","color","xAxisAttribute","path","d3","x","d","y","line","fill","stroke","id","strokeWidth","selected","TinyAxis","dimensions","xTinyAxisRef","useRef","yTinyAxisRef","xAxis","yAxis","useEffect","doAxis","xRef","current","yRef","scale","ticks","every","call","tickSize","tickFormat","ref","tinyAxisGroupX","transform","height","margin","top","tinyAxisGroupY","width","left","dummy","TinySvgLine","shortStatsForPerformance","label","mouseEnter","mouseLeave","handleClick","isHovered","tinySvgLine","viewBox","style","maxWidth","position","role","aria-label","onMouseOver","e","onMouseLeave","onClick","selectLogScale","handleHover","handleHoverLeave","right","bottom","SummaryBox","yesterdayFieldName","niceStats","latest","text","shortTitle","dateField","svgLineFieldName","useState","isLogScale","setIsLogScale","setIsHovered","hoverInfo","setHoverInfo","filter","stat","i","xExtent","Date","updateInfo","domain","range","yExtent","ConfirmedCovidCases","summaryBox","clamp","nice","getYScale","what","letterSpacing","opacity","fontSize","textTransform","fontWeight","padding","background","textAlign","toLocaleString","toString","substring","ErrorComp","msg","borderRadius","LoadingComp","loader","countiesStoreUtil","colorScale","interpolator","sortIntoArraysByCounty","data","field","usedCountyNames","newData","forEach","includes","n","push","getLatestOrSelectedDateDataForCounty","county","selectedDate","dateToUse","dates","stats","map","s","TimeStampDate","Math","max","turnArraysIntoNiceObjects","obj","name","CountyName","PopulationCensus16","createManagableObjectAndSetFirstCountyToSelected","selectAttributeWithThisFieldName","attributes","a","sharedUtil","getLatestDate","getDataByFieldName","fieldValue","removeFromNestedAttributes","attr","key","maxDate","specificDate","specificDateFieldName","getLatestDataOrDataOnSpecificDate","prepArrayToShowInTextBox","graph","selectedAttributeNames","title","avail","ans","selectedDateData","value","contactUtil","isProbablyEmail","str","length","test","encode","Object","keys","encodeURIComponent","join","validate","val","rules","isValid","required","trim","min","COUNTIES","counties","reg","SUMMARY","dailyStatsSoFarUrl","infoStats","undefined","Summary","isLoading","setIsLoading","isError","setIsError","setNiceStats","setLatest","getDailyStats","useCallback","axios","get","response","features","niceData","latestDailyStats","summaryWrap","summaryInfoWrap","info","ExtraInfo","href","rel","target","sharedState","listeners","actions","useStore","shouldListen","setState","dispatch","actionId","param","newState","listener","l","initStore","userActions","initialState","dailyGraphsStore","description","allSliceData","graphs","sectionName","xAxisLabel","all","xAxisDescription","attrData","profileStatsStore","useDifferentShape","calculateAverageOverTime","ofWhat","numDays","newKeyName","theData","slice","added","reduce","acc","isNaN","fn","calculatePercentageChangeOf","v2","v1","change","percentageChange","round","percentageDailyChange","removeResultsWithDateBefore","StatisticsProfileDate","splitIntoAttrData","storeData","curFieldName","r","configureStore","SET_ALL_DAILY_GRAPHS","curState","graphsCopy","withAverageChangeDailyCases","with5DayAverage","withAverageDailyCasesEach5Days","processDailyData","SET_ALL_PROFILE_STATS","copy","withoutAttributesAndAfterMarch17","SET_DAILY_STORE_DATE_AND_DATA","latestDate","c","latestData","setSelectedDateAndData","storeName","SELECT_DAILY_GRAPHS_ATTRS","graphId","newAvail","oldNames","index","indexOf","splice","doAttrNames","dailyAlt","SectionWrap","sectionWrap","SectionMain","sectionMain","SectionSide","subtitle","sectionSideWrap","SectionHeader","sectionHeader","Axis","yTransformOffset","xAxisRef","yAxisRef","yTickWidth","abs","xTickWidth","axisGroupX","axisGroupY","YAxisLabel","yClass","HoverRect","rect","handleHoverDate","handleHoverLeaveDate","handleTextBox","date","selectRect","half","xOffset","w","rectWidth","strokeLinejoin","points","onMouseEnter","localHandleHover","localHandleHoverLeave","transition","cursor","localHandleTextBox","HoverRectangles","selectedRectDate","setSelectedRectDate","graphData","graphWidth","BoringButton","config","overRideStyle","border","outline","minWidth","boringButton","Dots","relAvail","lineGraphCircle","cx","cy","rx","TinyToolTip","hoverPosition","hoverColor","tinyTooltip","getMinMax","extents","maxValue","h","LineGraphDaily","daily","setSelectLogScale","svgRef","setHoverColor","setHoverPosition","extent","selectedExtents","relevant","calculateYExtentOfSelectedAttributes","getYExtent","theType","getXScale","getXExtent","xP","clientX","yP","clientY","getColor","check","display","alignSelf","justifySelf","yLabel","dateFieldName","AttributeBtns","availableAttributes","handleSelectData","graphIndex","btnGroupWrap","AltTextBox","arrayToShowInTextBox","numAvailableAttrs","RightSpan","rightSpan","profileStatsTextBox","minHeight","infoWrap","configureDailyGraphsStore","DailyGraphs","dateToSelect","forBreakPointBetween900And300","DailyPage","Header","props","header","exact","to","activeClassName","navActive","Footer","footer","INIT_COUNTY_DATA","sections","allCounties","util","allStatsAboutSelectedCounty","selectedCountyDataForSelectedDate","INIT_ALL_COUNTIES_LATEST_DATA","withoutNestedAttributes","allCountiesLatestData","UPDATE_ALL_COUNTIES_LATEST_DATA","newAllCountiesLatestData","SELECT_ATTRIBUTE","withThisFieldNameSelected","selectedAttributeName","SELECT_COUNTY","selectedCounty","SELECT_DATE","yAxisAttribute","SelectGraphBtnGroup","handleSelectGraph","btnClass","tabBtn","paths","back","forward","beginning","end","stop","play","CtrlSvg","ctrlType","aria-hidden","focusable","xmlns","ClickArrows","handleSelectDate","justDates","setIsPlaying","isPlaying","localHandleSelectDate","isNext","selectedIndex","nextPrevDate","clickArrowsWrap","dateSpan","clickArrows","earliestDate","localHandleBackToStart","localHandleToLastDate","CountiesSideSectionHeader","storeSections","TextBox","attrColor","textItem","small","PopulationProportionCovidCases","toFixed","CountyBtns","handleSelectCounty","countiesTinyBtnGroupWrap","CountiesSideSection","showCountyBtns","CountiesSection","XAxisLabel","boringButtonStyle","hoverStyle","BarChart","handleSelectOneCounty","attribute","selectedData","countyNamesForAxisLabel","barChartSvg","barHeight","barChartRect","selectedAttribute","selectedAttr","setSelectedAttr","ClickRect","y2","y2Height","ClickRectangles","LineGraph","setSelectedAttribute","hoverInfoDate","setHoverInfoDate","useForXExtent","setUseForXExtent","newSelected","lineSvg","CountyTile","tree","showProvinces","arr","countyTileRect","isSelected","parent","provinceText","charAt","toUpperCase","countyText","numText","PROVINCES","CountyTiles","countyData","selectedAttributeColor","selectedCountyName","sortedGraphData","sort","b","withProvinces","prov","names","find","co","province","dataWithOrWithoutProvinces","withoutProvinces","getOpacity","root","sum","size","paddingTop","paddingLeft","paddingRight","paddingBottom","leaves","x0","y0","x1","y1","TreeGraph","setShowProvinces","useMemo","ONE_DAY","uriLatestAllCounties","allCountiesAllResultsConfirmedCasesMoreThanZero","Counties","selectedSection","setSelectedSection","getSelected","availGraphs","incrementSelectedDate","useDate","latestPossibleDate","interval","setInterval","clearInterval","renderGraph","ContactForm","formData","handleSubmit","handleChange","showErrorText","renderSpan","valid","formError","show","form","onSubmit","gridTwo","inputSection","htmlFor","onChange","type","placeholder","email","formBtn","Contact","submitted","setSubmitted","failed","setFailed","setShowErrorText","setFormData","formIsValid","setFormIsValid","section","preventDefault","fetch","method","headers","body","then","clearForm","catch","error","relevantField","formValid","formSuccess","formFail","AltStatsGraphs","selectedGraphName","AltStats","allAvailableGraphs","setAllAvailableGraphs","getProfileStats","newAvailGraphs","App","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.12c9f461.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"svgWrap\":\"lineGraphDaily_svgWrap__11nb4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boringButtonDefaults\":\"boringButton_boringButtonDefaults__82Cjo\",\"boringButton\":\"boringButton_boringButton__og6ot\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tinyTooltip\":\"tinyToolTip_tinyTooltip__3H6bn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnGroupWrap\":\"attributeBtns_btnGroupWrap__34wN-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__16bvw\",\"footerNav\":\"footer_footerNav__DPiih\",\"navActive\":\"footer_navActive__3uAIj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"countiesTinyBtnGroupWrap\":\"countyBtns_countiesTinyBtnGroupWrap__3HFm5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forBreakPointBetween900And300\":\"countiesSideSection_forBreakPointBetween900And300__Jhr57\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineSvg\":\"lineGraph2_lineSvg__3uCpg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"svgWrap\":\"altStats_svgWrap__1xN33\",\"forBreakPointBetween900And300\":\"altStats_forBreakPointBetween900And300__2l4zd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"countyText\":\"countyTile_countyText__C9b-D\",\"numText\":\"countyTile_numText__3U9SG\",\"provinceText\":\"countyTile_provinceText__3CLnr\"};","import React from 'react';\r\nimport classes from './layout.module.css';\r\n\r\nconst layout = ({ children }) => {\r\n\r\n  return <div className={classes.pageWrap}>{children}</div>;\r\n};\r\n\r\nexport default layout;\r\n","import React from 'react';\r\nimport classes from './sectionWrapper.module.css';\r\n\r\nconst SectionWrapper = ({ children }) => (\r\n  <section className={classes.sectionWrapper}>\r\n    {children}\r\n  </section>\r\n);\r\n\r\nexport default SectionWrapper;\r\n","import React from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst Line = ({\r\n  altGraphData,\r\n  xScale,\r\n  yScale,\r\n  fieldName,\r\n  color,\r\n  xAxisAttribute,\r\n}) => {\r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d[xAxisAttribute]))\r\n    .y((d) => yScale(d[fieldName]));\r\n\r\n  const path = line(altGraphData);\r\n\r\n  return (\r\n    <path\r\n      d={path}\r\n      fill=\"none\"\r\n      stroke={color}\r\n      id={fieldName}\r\n      strokeWidth={altGraphData.selected ? '4px' : '2px'}\r\n    ></path>\r\n  );\r\n};\r\n\r\nexport default Line;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\nimport classes from './tinyAxis.module.css';\r\n\r\nconst TinyAxis = ({ dimensions, xScale, yScale }) => {\r\n  const xTinyAxisRef = useRef(null);\r\n  const yTinyAxisRef = useRef(null);\r\n  const xAxis = d3.axisTop();\r\n  const yAxis = d3.axisLeft();\r\n \r\n  useEffect(() => {\r\n    doAxis();\r\n  });\r\n\r\n  const doAxis = () => {\r\n    const xRef = d3.select(xTinyAxisRef.current);\r\n    const yRef = d3.select(yTinyAxisRef.current);\r\n    xAxis.scale(xScale).ticks(d3.timeDay.every(90));\r\n    yAxis.scale(yScale).ticks(2,',.0f');\r\n\r\n    xRef.call(xAxis.tickSize(10).tickFormat(d3.timeFormat(\"%b\")))\r\n    yRef.call(yAxis.tickSize(10));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <g\r\n        ref={xTinyAxisRef}\r\n        className={classes.tinyAxisGroupX}\r\n        transform={`translate(0,${dimensions.height - dimensions.margin.top})`}\r\n      ></g>\r\n      <g\r\n        ref={yTinyAxisRef}\r\n        className={classes.tinyAxisGroupY}\r\n        transform={`translate(${dimensions.width-dimensions.margin.left}, 0)`}\r\n      ></g>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TinyAxis;\r\n","import React from 'react';\r\nimport Line from '../../UI/Graphs/line';\r\nimport classes from './tinySvgLine.module.css';\r\nimport TinyAxis from './tinyAxis';\r\n\r\nconst dummy = () => {};\r\n\r\nconst TinySvgLine = ({\r\n  shortStatsForPerformance,\r\n  xScale,\r\n  yScale,\r\n  fieldName,\r\n  label,\r\n  mouseEnter,\r\n  mouseLeave,\r\n  handleClick,\r\n  dimensions,\r\n  isHovered,\r\n  xAxisAttribute\r\n}) => (\r\n  <svg\r\n    className={classes.tinySvgLine}\r\n    // viewBox=\"0 0 200 100\"\r\n    viewBox=\"0 -20 200 150\"\r\n    width=\"200\"\r\n    style={{ maxWidth: '100%', position: 'relative' }}\r\n    role=\"img\"\r\n    aria-label={label}\r\n    onMouseOver={(e) => mouseEnter(e)}\r\n    onMouseLeave={(e) => mouseLeave(e)}\r\n    onClick={() => handleClick()}\r\n  >\r\n    {isHovered ? (\r\n      <TinyAxis\r\n        dimensions={dimensions}\r\n        xScale={xScale}\r\n        yScale={yScale}\r\n        selectLogScale={true}\r\n      />\r\n    ) : null}\r\n\r\n    <Line\r\n      altGraphData={shortStatsForPerformance}\r\n      xScale={xScale}\r\n      yScale={yScale}\r\n      fieldName={fieldName}\r\n      color={isHovered ? 'var(--white)' : 'var(--gray)'}\r\n      // color=\"var(--gray)\"\r\n      handleHover={dummy}\r\n      handleHoverLeave={dummy}\r\n      xAxisAttribute={xAxisAttribute}\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default TinySvgLine;\r\n","import React, { useState } from 'react';\r\nimport TinySvgLine from './tinySvgLine';\r\nimport classes from './summaryBox.module.css';\r\nimport * as d3 from 'd3';\r\n\r\nconst dimensions = {\r\n  margin: {\r\n    left: 10,\r\n    right: 10,\r\n    top: 10,\r\n    bottom: 10,\r\n  },\r\n  width: 200,\r\n  height: 100,\r\n};\r\nconst { margin, width, height } = dimensions;\r\nconst SummaryBox = ({\r\n  fieldName,\r\n  yesterdayFieldName,\r\n  niceStats,\r\n  latest,\r\n  text,\r\n  shortTitle,\r\n  dateField,\r\n  svgLineFieldName,\r\n}) => {\r\n\r\n  const [isLogScale, setIsLogScale] = useState(true);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [hoverInfo, setHoverInfo] = useState('');\r\n\r\n  // better performance?. Can still get the shape of the graph with this\r\n  const shortStatsForPerformance = niceStats.filter((stat, i) => i % 3 === 0);\r\n  const xExtent = d3.extent(shortStatsForPerformance, (d) => d.Date);\r\n\r\n  const updateInfo = () => {\r\n    setHoverInfo(`${shortTitle} ${isLogScale ? '(Log)' : '(Linear)'}`);\r\n  };\r\n\r\n  const handleMouseIn = (e, what) => {\r\n    updateInfo();\r\n    setIsHovered(true);\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    setIsHovered(false);\r\n  };\r\n\r\n  const handleClick = (e, what) => {\r\n    updateInfo();\r\n    setIsLogScale(!isLogScale);\r\n  };\r\n\r\n  const xScale = d3\r\n    .scaleTime()\r\n    .domain([xExtent[0], xExtent[1]])\r\n    .range([margin.left, width - margin.right]);\r\n\r\n  const yExtent = d3.extent(\r\n    shortStatsForPerformance,\r\n    (d) => d.ConfirmedCovidCases\r\n  );\r\n\r\n  const getYScale = () => {\r\n    let yScale = d3\r\n      .scaleLog()\r\n      .domain(yExtent)\r\n      .clamp(true)\r\n      .range([height - margin.top, margin.bottom])\r\n      .nice();\r\n\r\n    if (!isLogScale) {\r\n      yScale = d3\r\n        .scaleLinear()\r\n        .domain(yExtent)\r\n        .clamp(true)\r\n        .range([height - margin.top, margin.bottom])\r\n        .nice();\r\n    }\r\n    return yScale;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.summaryBox} style={{ position: 'relative' }}>\r\n      <TinySvgLine\r\n        shortStatsForPerformance={shortStatsForPerformance}\r\n        xScale={xScale}\r\n        yScale={getYScale()}\r\n        handleClick={handleClick}\r\n        mouseEnter={handleMouseIn}\r\n        mouseLeave={handleMouseOut}\r\n        fieldName={svgLineFieldName}\r\n        dimensions={dimensions}\r\n        label={text}\r\n        isHovered={isHovered}\r\n        xAxisAttribute={dateField}\r\n      />\r\n\r\n      {isHovered ? (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            letterSpacing: '0.1rem',\r\n            top: '1rem',\r\n            opacity: 1,\r\n            fontSize: '0.5rem',\r\n            margin: 0,\r\n            right: ' 1rem',\r\n            textTransform: 'uppercase',\r\n            fontWeight: 800,\r\n            color: 'var(--covidGreen)',\r\n            padding: 0,\r\n            background: 'var(--lightBlack)',\r\n            textAlign: 'right',\r\n          }}\r\n        >\r\n          {hoverInfo}\r\n        </div>\r\n      ) : null}\r\n\r\n      <h4>\r\n        {latest[fieldName] ? latest[fieldName].toLocaleString() : ''}{' '}\r\n        {yesterdayFieldName ? (\r\n          <small>\r\n            (+\r\n            {latest[yesterdayFieldName].toLocaleString()})*\r\n          </small>\r\n        ) : null}\r\n      </h4>\r\n      <h3>{text}</h3>\r\n      <p>({new Date(latest[dateField]).toString().substring(0, 15)})</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SummaryBox;\r\n","import React from 'react';\r\n\r\nconst ErrorComp = ({ msg }) => (\r\n  <p\r\n    style={{\r\n      color: 'var(--covidPink)',\r\n      background: 'var(--midBlack)',\r\n      padding: '1rem',\r\n      borderRadius: '0.4rem',\r\n      margin: '3rem 0'\r\n    }}\r\n  >\r\n    {msg}\r\n  </p>\r\n);\r\n\r\nexport default ErrorComp;\r\n","import React from 'react';\r\nimport classes from './loading.module.css';\r\n\r\nconst LoadingComp = ({ msg }) => <div className={classes.loader}>{msg}</div>;\r\n\r\nexport default LoadingComp;\r\n","import * as d3 from 'd3';\r\n\r\nexport const countiesStoreUtil = {\r\n  colorScale: d3\r\n    .scaleSequential()\r\n    .domain([0, 100])\r\n    .interpolator(d3.interpolateRainbow),\r\n\r\n  sortIntoArraysByCounty: (data, field = 'CountyName') => {\r\n    // data in = [{galway},{galway},{longford}]\r\n    // want data out = [[{galway},{galway}],[{longford}]]\r\n    const usedCountyNames = [];\r\n    const newData = [];\r\n    data.forEach((d) => {\r\n      // new county\r\n      if (!usedCountyNames.includes(d[field])) {\r\n        usedCountyNames.push(d[field]);\r\n        newData.push([d]);\r\n      } else {\r\n        // find county in array of arrays and push new one in\r\n        const correctArray = newData.filter((n) => n[0][field] === d[field])[0];\r\n        correctArray.push(d);\r\n      }\r\n    });\r\n    return newData;\r\n  },\r\n\r\n  getLatestOrSelectedDateDataForCounty: (county, selectedDate) => {\r\n    let dateToUse = selectedDate;\r\n    if (!dateToUse) {\r\n      const dates = county.stats.map((s) => s.TimeStampDate);\r\n      dateToUse = Math.max(...dates.map((d) => d));\r\n    }\r\n\r\n    const newestData = county.stats.filter(\r\n      (s) => s.TimeStampDate === dateToUse\r\n    );\r\n    return newestData[0];\r\n  },\r\n\r\n  turnArraysIntoNiceObjects: (data) => {\r\n    const createManagableObjectAndSetFirstCountyToSelected = (n, i) => {\r\n      const obj = {};\r\n      obj.name = n[0].CountyName;\r\n      // should add reg\r\n      obj.selected = false;\r\n      obj.stats = [...n];\r\n      obj['color'] = countiesStoreUtil.colorScale(n[0].PopulationCensus16);\r\n      if (i === 0) {\r\n        obj['selected'] = true;\r\n      }\r\n      return obj;\r\n    };\r\n\r\n    return data.map((n, i) =>\r\n      createManagableObjectAndSetFirstCountyToSelected(n, i)\r\n    );\r\n  },\r\n  selectAttributeWithThisFieldName: (attributes, fieldName) => {\r\n    return attributes.map((a) => {\r\n      if (a.fieldName === fieldName) {\r\n        a.selected = true;\r\n      } else {\r\n        a.selected = false;\r\n      }\r\n      return a;\r\n    });\r\n  },\r\n};\r\n\r\nexport const sharedUtil = {\r\n  getLatestDate: (county) => {\r\n    const dates = county.stats.map((s) => s.TimeStampDate);\r\n    const newestDate = Math.max(...dates.map((d) => d));\r\n    return newestDate;\r\n    // const dates = removeFromNestedAttributes(county, 'stats')\r\n  },\r\n\r\n  getDataByFieldName: (data, fieldName, fieldValue) => {\r\n    return data.filter((s) => s[fieldName] === fieldValue);\r\n  },\r\n\r\n  removeFromNestedAttributes: (data, attr = 'attributes') => {\r\n    return data.map((d) => {\r\n      let obj = {};\r\n      for (const key in d[attr]) {\r\n        obj[key] = d[attr][key];\r\n      }\r\n      return obj;\r\n    });\r\n  },\r\n  maxDate: (specificDate, data, specificDateFieldName) => {\r\n    let dateToUse = specificDate;\r\n    if (!dateToUse) {\r\n      const dates = data.map((s) => s[specificDateFieldName]);\r\n      dateToUse = Math.max(...dates.map((d) => d));\r\n    }\r\n    return dateToUse;\r\n  },\r\n  getLatestDataOrDataOnSpecificDate: (\r\n    data,\r\n    specificDate,\r\n    specificDateFieldName\r\n  ) => {\r\n    const dateToUse = sharedUtil.maxDate(\r\n      specificDate,\r\n      data,\r\n      specificDateFieldName\r\n    );\r\n    const newestData = sharedUtil.getDataByFieldName(\r\n      data,\r\n      specificDateFieldName,\r\n      dateToUse\r\n    );\r\n    return newestData[0];\r\n  },\r\n  prepArrayToShowInTextBox: graph => {\r\n    \r\n    return graph.selectedAttributeNames.map((name) => {\r\n      const title = graph.avail.filter((a) => a.fieldName === name)[0].name;\r\n      const color = graph.avail.filter((a) => a.fieldName === name)[0].color;\r\n\r\n      const ans = {};\r\n\r\n      ans[name] = graph.selectedDateData[name];\r\n      ans.color = color;\r\n      ans.title = title;\r\n      ans.fieldName = name;\r\n      ans.value = graph.selectedDateData[name];\r\n\r\n      return ans;\r\n    });\r\n  }\r\n};\r\n\r\nexport const contactUtil = {\r\n  isProbablyEmail: (str) => {\r\n    var re = /\\S+@\\S+\\.\\S+/;\r\n    if (str.length < 50) {\r\n      return re.test(str);\r\n    }\r\n    return false;\r\n  },\r\n\r\n  // function from netlify docs\r\n  encode: (data) => {\r\n    return Object.keys(data)\r\n      .map(\r\n        (key) => encodeURIComponent(key) + '=' + encodeURIComponent(data[key])\r\n      )\r\n      .join('&');\r\n  },\r\n\r\n  validate: (val, rules) => {\r\n    let isValid = true;\r\n    if (rules.required) {\r\n      isValid = val.trim() !== '' && isValid;\r\n    }\r\n    if (rules.min) {\r\n      isValid = val.length >= rules.min && isValid;\r\n    }\r\n    if (rules.max) {\r\n      isValid = val.length <= rules.max && isValid;\r\n    }\r\n    if (rules.isProbablyEmail) {\r\n      isValid = contactUtil.isProbablyEmail(val) && isValid;\r\n    }\r\n    return isValid;\r\n  },\r\n};\r\n","export const COUNTIES = {\r\n  ONE_DAY: 86400000,\r\n  uriLatestAllCounties: `https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/Covid19CountyStatisticsHPSCIrelandOpenData/FeatureServer/0/query?where=1%3D1&outFields=CountyName,PopulationCensus16,ConfirmedCovidCases,PopulationProportionCovidCases,FID,TimeStampDate&outSR=4326&resultRecordCount=26&orderByFields=TimeStampDate%20DESC&returnGeometry=false&f=json`,\r\n\r\n  allCountiesAllResultsConfirmedCasesMoreThanZero: `https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/Covid19CountyStatisticsHPSCIrelandOpenData/FeatureServer/0/query?where=ConfirmedCovidCases>0&1%3D1&outFields=CountyName,PopulationCensus16,ConfirmedCovidCases,PopulationProportionCovidCases,FID,TimeStampDate&returnGeometry=false&outSR=4326&f=json`,\r\n\r\n  PROVINCES: [\r\n    {\r\n      name: 'connaught',\r\n      counties: [\r\n        { name: 'Mayo', reg: 'MO' },\r\n        { name: 'Galway', reg: 'G' },\r\n        { name: 'Sligo', reg: 'SO' },\r\n        { name: 'Leitrim', reg: 'LM' },\r\n        { name: 'Roscommon', reg: 'RN' },\r\n      ],\r\n    },\r\n    {\r\n      name: 'ulster',\r\n      counties: [\r\n        { name: 'Donegal', reg: 'DL' },\r\n        { name: 'Monaghan', reg: 'MN' },\r\n        { name: 'Cavan', reg: 'CN' },\r\n      ],\r\n    },\r\n    {\r\n      name: 'leinster',\r\n      counties: [\r\n        { name: 'Longford', reg: 'LD' },\r\n        { name: 'Westmeath', reg: 'WH' },\r\n        { name: 'Louth', reg: 'LH' },\r\n        { name: 'Meath', reg: 'MH' },\r\n        { name: 'Dublin', reg: 'D' },\r\n        { name: 'Wicklow', reg: 'WW' },\r\n        { name: 'Wexford', reg: 'WX' },\r\n        { name: 'Kilkenny', reg: 'KK' },\r\n        { name: 'Carlow', reg: 'CW' },\r\n        { name: 'Kildare', reg: 'KE' },\r\n        { name: 'Laois', reg: 'LS' },\r\n        { name: 'Offaly', reg: 'OY' },\r\n      ],\r\n    },\r\n    {\r\n      name: 'munster',\r\n      counties: [\r\n        { name: 'Cork', reg: 'C' },\r\n        { name: 'Kerry', reg: 'KY' },\r\n        { name: 'Limerick', reg: 'L' },\r\n        { name: 'Clare', reg: 'CE' },\r\n        { name: 'Tipperary', reg: 'T' },\r\n        { name: 'Waterford', reg: 'W' },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nexport const SUMMARY = {\r\n  dailyStatsSoFarUrl: `https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/CovidStatisticsProfileHPSCIrelandOpenData/FeatureServer/0/query?where=1%3D1&outFields=ConfirmedCovidCases,Date,ConfirmedCovidDeaths,TotalCovidDeaths,ConfirmedCovidRecovered,TotalConfirmedCovidCases,HospitalisedCovidCases,RequiringICUCovidCases,HealthcareWorkersCovidCases,ClustersNotified,StatisticsProfileDate&outSR=4326&f=json`,\r\n\r\n  infoStats: [\r\n    {\r\n      title: 'Confirmed Cases',\r\n      shortTitle: '# Cases',\r\n      fieldName: 'TotalConfirmedCovidCases',\r\n      yesterdayFieldName: 'ConfirmedCovidCases', //from latest\r\n      svgLineFieldName: 'ConfirmedCovidCases',\r\n      dateField: 'Date',\r\n    },\r\n    {\r\n      title: 'Confirmed Recovered',\r\n      shortTitle: '# Recovered',\r\n      fieldName: 'ConfirmedCovidRecovered',\r\n      yesterdayFieldName: undefined, //from latest\r\n      svgLineFieldName: 'ConfirmedCovidRecovered',\r\n      dateField: 'Date',\r\n    },\r\n    {\r\n      title: 'Confirmed Deaths',\r\n      shortTitle: '# Deaths',\r\n      fieldName: 'TotalCovidDeaths',\r\n      yesterdayFieldName: 'ConfirmedCovidDeaths', //from latest\r\n      svgLineFieldName: 'ConfirmedCovidDeaths',\r\n      dateField: 'Date',\r\n    },\r\n    {\r\n      title: 'Hospitalised',\r\n      shortTitle: '# Hospitalised',\r\n      fieldName: 'HospitalisedCovidCases',\r\n      yesterdayFieldName: undefined, //from latest\r\n      svgLineFieldName: 'HospitalisedCovidCases',\r\n      dateField: 'StatisticsProfileDate',\r\n    },\r\n    {\r\n      title: '# ICU',\r\n      shortTitle: '# in ICU',\r\n      fieldName: 'RequiringICUCovidCases',\r\n      yesterdayFieldName: undefined, //from latest\r\n      svgLineFieldName: 'RequiringICUCovidCases',\r\n      dateField: 'StatisticsProfileDate',\r\n    },\r\n\r\n    {\r\n      title: 'Healthcare Workers Cases',\r\n      shortTitle: '# Healthcare Workers',\r\n      fieldName: 'HealthcareWorkersCovidCases',\r\n      yesterdayFieldName: undefined, //from latest\r\n      svgLineFieldName: 'HealthcareWorkersCovidCases',\r\n      dateField: 'StatisticsProfileDate',\r\n    },\r\n    {\r\n      title: 'Clusters',\r\n      shortTitle: '# Clusters',\r\n      fieldName: 'ClustersNotified',\r\n      yesterdayFieldName: undefined, //from latest\r\n      svgLineFieldName: 'ClustersNotified',\r\n      dateField: 'StatisticsProfileDate',\r\n    },\r\n  ],\r\n};\r\n\r\nexport const ALT_STATS = {\r\n  profileStatsUrl: `https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/CovidStatisticsProfileHPSCIrelandOpenData/FeatureServer/0/query?where=1%3D1&outFields=StatisticsProfileDate,CovidCasesConfirmed,HospitalisedCovidCases,RequiringICUCovidCases,HealthcareWorkersCovidCases,ClustersNotified,HospitalisedAged5,HospitalisedAged5to14,HospitalisedAged15to24,HospitalisedAged25to34,HospitalisedAged35to44,HospitalisedAged45to54,HospitalisedAged55to64,HospitalisedAged65up,Male,Female,Unknown,Aged1,Aged1to4,Aged5to14,Aged15to24,Aged25to34,Aged35to44,Aged45to54,Aged55to64,Aged65up,Median_Age,CommunityTransmission,CloseContact,TravelAbroad,UnderInvestigation,FID&returnGeometry=false&outSR=4326&f=json`\r\n}\r\n\r\nexport const DAILY_GRAPHS = {\r\n  dailyStatsSoFarUrl: `https://services1.arcgis.com/eNO7HHeQ3rUcBllm/arcgis/rest/services/CovidStatisticsProfileHPSCIrelandOpenData/FeatureServer/0/query?where=1%3D1&outFields=Date,ConfirmedCovidCases,TotalConfirmedCovidCases,ConfirmedCovidDeaths,TotalCovidDeaths,ConfirmedCovidRecovered,TotalCovidRecovered,FID&returnGeometry=false&outSR=4326&f=json`\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport classes from './summary.module.css';\r\nimport SectionWrapper from '../../UI/Sections/SectionWrapper/sectionWrapper';\r\nimport SummaryBox from './summaryBox';\r\nimport ErrorComp from '../../UI/error';\r\nimport LoadingComp from '../../UI/loading';\r\nimport { sharedUtil } from '../../util-functions';\r\nimport { SUMMARY } from '../../constants';\r\n\r\nconst Summary = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [niceStats, setNiceStats] = useState([]);\r\n  const [latest, setLatest] = useState();\r\n  const getDailyStats = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(SUMMARY.dailyStatsSoFarUrl);\r\n      return response.data.features;\r\n    } catch (e) {\r\n      setIsLoading(false);\r\n      setIsError(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n      try {\r\n      \r\n        const data = await getDailyStats();\r\n        const niceData = sharedUtil.removeFromNestedAttributes(data);\r\n        setNiceStats(niceData);\r\n        setIsLoading(false);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n      }\r\n    })();\r\n  }, [getDailyStats]);\r\n\r\n\r\n \r\n  useEffect(() => {\r\n    if (niceStats.length) {\r\n      const latestDailyStats = sharedUtil.getLatestDataOrDataOnSpecificDate(\r\n        niceStats,\r\n        false,\r\n        'Date'\r\n      );\r\n\r\n      setLatest(latestDailyStats);\r\n    }\r\n  }, [niceStats]);\r\n\r\n\r\n  return (\r\n    <SectionWrapper>\r\n      {isError ? (\r\n        <ErrorComp msg=\"Could not load Summary.\" />\r\n      ) : (\r\n        <div className={classes.summaryWrap}>\r\n          {latest && !isLoading ? (\r\n            <>\r\n              <div className={classes.summaryInfoWrap}>\r\n                {SUMMARY.infoStats.map((info) => (\r\n                  <SummaryBox\r\n                    key={info.fieldName}\r\n                    niceStats={niceStats}\r\n                    fieldName={info.fieldName}\r\n                    yesterdayFieldName={info.yesterdayFieldName}\r\n                    latest={latest}\r\n                    text={info.title}\r\n                    shortTitle={info.shortTitle}\r\n                    dateField={info.dateField}\r\n                    svgLineFieldName={info.svgLineFieldName}\r\n                  />\r\n                ))}\r\n              </div>\r\n              <span\r\n                style={{\r\n                  color: 'var(--gray)',\r\n                  fontSize: '0.7rem',\r\n                  fontWeight: 'normal',\r\n                }}\r\n              >\r\n                *Latest daily figures\r\n                <br />\r\n                Last Updated:{' '}\r\n                {new Date(latest.Date).toString().substring(0, 15)}\r\n              </span>\r\n            </>\r\n          ) : (\r\n            <LoadingComp msg=\"Loading\" />\r\n          )}\r\n        </div>\r\n      )}\r\n    </SectionWrapper>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n","import React from 'react';\r\nimport SectionWrapper from '../../../UI/Sections/SectionWrapper/sectionWrapper';\r\n\r\nconst ExtraInfo = () => {\r\n  return (\r\n    <SectionWrapper>\r\n      <p>\r\n        All data taken from data.gov.ie, available{' '}\r\n        <a\r\n          href=\"https://opendata-geohive.hub.arcgis.com/datasets/d8eb52d56273413b84b0187a4e9117be_0/data?geometry=-7.694%2C53.288%2C-7.691%2C53.289\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          here\r\n        </a>\r\n        . It is updated every evening, with the latest records for{' '}\r\n        <em>Total Confirmed Cases</em>, <em>Confirmed Recovered</em> and{' '}\r\n        <em>Total Confirmed Deaths</em> reporting the counts recorded at 1pm the\r\n        same day.\r\n      </p>\r\n      <p>\r\n        Other data is part of of the HSPC's{' '}\r\n        <em>Daily Statistics Profile of Covid-19</em>. It is also updated each\r\n        evening but dates back to 12am two days previously.{' '}\r\n      </p>\r\n\r\n      <p>\r\n        Note that from April 10th 2020 not all confirmed cases are included in\r\n        the <em>Daily Cases</em> or <em>Percentage Change</em> figures. Cases\r\n        not included represent tests that were sent to Germany for analysis. All\r\n        confirmed cases{' '}\r\n        <strong>\r\n          <em>are</em>\r\n        </strong>{' '}\r\n        included in <em>Total Confirmed Cases</em>.\r\n      </p>\r\n      <p>\r\n        For example on April 17th the number of <em>New Cases</em> is 597 while\r\n        the <em>Total Cases</em> number jumps by 709 to 13,980. This can be\r\n        accounted for by the 112 positive test results returned from Germany.\r\n        Though most of these extra cases seem to be old, they have not been\r\n        backdated in the data released on data.gov.ie. A graph with tests\r\n        backdated is available from gov.ie{' '}\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"nofollow noopener noreferrer\"\r\n          href=\"https://assets.gov.ie/73405/f1938dc1f761415b93db5b8009c91898.pdf\"\r\n        >\r\n          here\r\n        </a>{' '}\r\n        (.pdf download) and all updates for April 2020 are available from gov.ie{' '}\r\n        <a\r\n          href=\"https://www.gov.ie/en/publication/20f2e0-updates-on-covid-19-coronavirus-since-january-2020/#april\"\r\n          target=\"_blank\"\r\n          rel=\"nofollow noopener noreferrer\"\r\n        >\r\n          here\r\n        </a>\r\n        .\r\n      </p>\r\n    </SectionWrapper>\r\n  );\r\n};\r\n\r\nexport default ExtraInfo;\r\n","import { useState, useEffect } from 'react';\r\n\r\nlet sharedState = {};\r\nlet listeners = [];\r\nlet actions = {};\r\n\r\nexport const useStore = (shouldListen=true) => {\r\n  const setState =  useState(sharedState)[1];\r\n\r\n  const dispatch = (actionId, param) => {\r\n    const newState = actions[actionId](sharedState, param);\r\n    sharedState = { ...sharedState, ...newState }\r\n\r\n    for(const listener of listeners) {\r\n      listener(sharedState);\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(shouldListen) {\r\n      listeners.push(setState);\r\n    }\r\n    \r\n\r\n    // remove on unmount\r\n    return ()=>{\r\n      if(shouldListen){\r\n        listeners = listeners.filter(l=> l !== setState);\r\n      }\r\n  \r\n    }\r\n  }, [setState, shouldListen]);\r\n\r\n  return [sharedState, dispatch];\r\n}\r\n\r\nexport const initStore = (userActions, initialState) => {\r\n  if(initialState) {\r\n    sharedState = {...sharedState, ...initialState}\r\n  }\r\n  actions = {...actions, ...userActions}\r\n}","export const dailyGraphsStore = {\r\n  description:\r\n      '',\r\n  allSliceData: [],\r\n  graphs: [\r\n  {\r\n    name: 'DailyAlt',\r\n    id: 1,\r\n    sectionName: 'Daily Cases',\r\n    description:\r\n      '5 day average is average of current days new confirmed cases and 4 previous days.',\r\n    xAxisLabel: '# cases',\r\n    xAxisAttribute: 'Date',\r\n    selectedAttributeNames: ['ConfirmedCovidCases'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'New Cases',\r\n        fieldName: 'ConfirmedCovidCases',\r\n        xAxisDescription: 'Number of Confirmed Cases',\r\n        xAxisAttribute: 'Date',\r\n        selected: true,\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'New Cases (5 day avg)',\r\n        fieldName: 'AverageConfirmedCases',\r\n        xAxisAttribute: 'Date',\r\n        xAxisDescription: 'AverageConfirmedCases',\r\n        selected: false,\r\n        color: 'var(--covidOrange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Total Cases',\r\n        fieldName: 'TotalConfirmedCovidCases',\r\n        xAxisDescription: 'Total Number of Confirmed Cases',\r\n        xAxisAttribute: 'Date',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'DailyAlt',\r\n    id: 2,\r\n    sectionName: 'Daily Cases (Percentage Change)',\r\n    description:\r\n      'Percentage Change calculated as (V2 - V1) x 100 / V1. 5 day average is average of current day and 4 previous days. ',\r\n    xAxisLabel: '% change',\r\n    xAxisAttribute: 'Date',\r\n    selectedAttributeNames: ['percentageDailyChange'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'New Cases (% change)',\r\n        fieldName: 'percentageDailyChange',\r\n        xAxisAttribute: 'Date',\r\n        xAxisDescription: '% Daily Change (newCases)',\r\n        selected: true,\r\n        color: 'var(--covidBlue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'New Cases (% change) 5 day avg',\r\n        fieldName: 'percentageDailyChange5DayAverage',\r\n        xAxisDescription: 'percentageDailyChange5DayAverage',\r\n        xAxisAttribute: 'Date',\r\n        selected: false,\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'DailyAlt',\r\n    id: 3,\r\n    sectionName: 'Deaths',\r\n    description: '',\r\n    xAxisLabel: '# deaths',\r\n    xAxisAttribute: 'Date',\r\n    selectedAttributeNames: ['ConfirmedCovidDeaths'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'New Deaths',\r\n        fieldName: 'ConfirmedCovidDeaths',\r\n        xAxisDescription: 'Number of Deaths',\r\n        xAxisAttribute: 'Date',\r\n        selected: true,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n\r\n      {\r\n        name: 'Total Deaths',\r\n        fieldName: 'TotalCovidDeaths',\r\n        xAxisDescription: 'Total Number of Deaths',\r\n        xAxisAttribute: 'Date',\r\n        selected: false,\r\n        color: 'var(--covidOrange)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  ],\r\n}","export const profileStatsStore = {\r\n  description:\r\n      'This data is part of a Daily Statistic Profile of Covid-19 made available by the Health Protection Surveillance Center. New data is released each evening and dates back to 12am two days previously.',\r\n  allSliceData: [],\r\n  graphs: [\r\n  {\r\n    name: 'transmissionType',\r\n    id: 1,\r\n    sectionName: 'Transmission Type',\r\n    description: '',\r\n    xAxisLabel: '#Cases',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['CommunityTransmission'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Community Transmission',\r\n        fieldName: 'CommunityTransmission',\r\n        xAxisDescription: '#Cases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        selected: true,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Close Contact',\r\n        fieldName: 'CloseContact',\r\n        xAxisDescription: '#Cases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        selected: false,\r\n        color: 'var(--blue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Travel Abroad',\r\n        fieldName: 'TravelAbroad',\r\n        xAxisDescription: '#Cases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        selected: false,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Under Investigation',\r\n        fieldName: 'UnderInvestigation',\r\n        xAxisDescription: '#Cases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        selected: false,\r\n        color: 'var(--orange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisDescription: '#Cases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'hospitalisations',\r\n    id: 2,\r\n    sectionName: 'Hospitalisations',\r\n    description:'',\r\n    xAxisLabel: '#Cases Hospitalised',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['HospitalisedCovidCases'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Hospitalised',\r\n        fieldName: 'HospitalisedCovidCases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases Hospitalised',\r\n        selected: true,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Requiring ICU',\r\n        fieldName: 'RequiringICUCovidCases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases Hospitalised',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases Hospitalised',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'genderProfiles',\r\n    id: 3,\r\n    sectionName: 'Gender Profiles',\r\n    description: '',\r\n    xAxisLabel: '# Cases',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['Female'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Female',\r\n        fieldName: 'Female',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Cases',\r\n        selected: true,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Male',\r\n        fieldName: 'Male',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Cases',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Unknown',\r\n        fieldName: 'Unknown',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Cases',\r\n        selected: false,\r\n        color: 'var(--blue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Cases',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'ageProfiles',\r\n    id: 4,\r\n    sectionName: 'Age Profiles',\r\n    description: '',\r\n    xAxisLabel: '#Cases in Age Group',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['Aged65up'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Aged 65 and up',\r\n        fieldName: 'Aged65up',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: true,\r\n        color: 'var(--covidPink)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 55 to 64',\r\n        fieldName: 'Aged55to64',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--purple)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 45 to 54',\r\n        fieldName: 'Aged45to54',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--blue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 35 to 44',\r\n        fieldName: 'Aged35to44',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n        selected: false,\r\n      },\r\n      {\r\n        name: 'Aged 25 to 34',\r\n        fieldName: 'Aged25to34',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 15 to 24',\r\n        fieldName: 'Aged15to24',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 5 to 14',\r\n        fieldName: 'Aged5to14',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 1 to 4',\r\n        fieldName: 'Aged1to4',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--orange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 1',\r\n        fieldName: 'Aged1',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidOrange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases in Age Group',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'hospitalisedAgeProfiles',\r\n    id: 5,\r\n    sectionName: 'Age Profiles (Hospitalised)',\r\n    description: '',\r\n    xAxisLabel: '#Hospitalised in Age Group',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['HospitalisedAged65up'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Hospitalised Aged 65 and up',\r\n        fieldName: 'HospitalisedAged65up',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: true,\r\n        color: 'var(--covidPink)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 55 to 64',\r\n        fieldName: 'HospitalisedAged55to64',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--purple)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 45 to 54',\r\n        fieldName: 'HospitalisedAged45to54',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidBlue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 35 to 44',\r\n        fieldName: 'HospitalisedAged35to44',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n        selected: false,\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 25 to 34',\r\n        fieldName: 'HospitalisedAged25to34',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 15 to 24',\r\n        fieldName: 'HospitalisedAged15to24',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 5 to 14',\r\n        fieldName: 'HospitalisedAged5to14',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Hospitalised Aged 5',\r\n        fieldName: 'HospitalisedAged5',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--orange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Total Hospitalised',\r\n        fieldName: 'HospitalisedCovidCases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidOrange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Total Requiring ICU',\r\n        fieldName: 'RequiringICUCovidCases',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'hospitalisedAndCasesAgeProfiles',\r\n    id: 6,\r\n    sectionName: 'Age Profiles (Hospitalised Vs Cases)',\r\n    description: '',\r\n    xAxisLabel: '#Cases vs #Hospitalised in Age Group',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['HospitalisedAged65up'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Aged 65 and up (Hospitalised)',\r\n        fieldName: 'HospitalisedAged65up',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: true,\r\n        color: 'var(--covidPink)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 65 and up (Cases)',\r\n        fieldName: 'Aged65up',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        useDifferentShape: true,\r\n        color: 'var(--covidPink)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 55 to 64 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged55to64',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--purple)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 55 to 64 (Cases)',\r\n        fieldName: 'Aged55to64',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        useDifferentShape: true,\r\n        color: 'var(--purple)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 45 to 54 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged45to54',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--blue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 45 to 54 (Cases)',\r\n        fieldName: 'Aged45to54',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        useDifferentShape: true,\r\n        color: 'var(--blue)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 35 to 44 (Hospitalised) ',\r\n        fieldName: 'HospitalisedAged35to44',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n        selected: false,\r\n      },\r\n      {\r\n        name: 'Aged 35 to 44 (Cases)',\r\n        fieldName: 'Aged35to44',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        color: 'var(--covidPurple)',\r\n        attrData: [],\r\n        selected: false,\r\n        useDifferentShape: true,\r\n      },\r\n      {\r\n        name: 'Aged 25 to 34 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged25to34',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 25 to 34 (Cases)',\r\n        fieldName: 'Aged25to34',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        useDifferentShape: true,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 15 to 24 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged15to24',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 15 to 24 (Cases)',\r\n        fieldName: 'Aged15to24',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        useDifferentShape: true,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 5 to 14 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged5to14',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--covidGreen)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 5 (Hospitalised)',\r\n        fieldName: 'HospitalisedAged5',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--orange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Aged 1 to 4 (Cases)',\r\n        fieldName: 'Aged1to4',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--orange)',\r\n        attrData: [],\r\n      },\r\n      {\r\n        name: 'Analysis based on #cases',\r\n        fieldName: 'CovidCasesConfirmed',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '#Cases vs #Hospitalised in Age Group',\r\n        selected: false,\r\n        color: 'var(--white)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'clusters',\r\n    id: 7,\r\n    sectionName: 'Clusters',\r\n    description: '',\r\n    xAxisLabel: '# Clusters Notified',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['ClustersNotified'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Clusters',\r\n        fieldName: 'ClustersNotified',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Clusters Notified',\r\n        selected: true,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: 'medianAge',\r\n    id: 8,\r\n    sectionName: 'Median Age',\r\n    description: '',\r\n    xAxisLabel: '# Median age of Cases',\r\n    xAxisAttribute: 'StatisticsProfileDate',\r\n    selectedAttributeNames: ['Median_Age'],\r\n    selectedDate: '',\r\n    selectedDateData: [],\r\n    all: [],\r\n    avail: [\r\n      {\r\n        name: 'Median Age',\r\n        fieldName: 'Median_Age',\r\n        xAxisAttribute: 'StatisticsProfileDate',\r\n        xAxisDescription: '# Median age of Cases',\r\n        selected: true,\r\n        color: 'var(--covidYellow)',\r\n        attrData: [],\r\n      },\r\n     \r\n    ],\r\n  },\r\n  ],\r\n}","import { initStore } from '../../Store/store';\r\nimport { dailyGraphsStore } from './dailyGraphsConfig.js';\r\nimport { profileStatsStore } from './profileStatsConfig.js';\r\n\r\nconst MARCH_17_2020 = 1584316800000;\r\n\r\nconst removeFromNestedAttributes = (data) => {\r\n  return data.map((d) => {\r\n    let obj = {};\r\n    for (const key in d.attributes) {\r\n      obj[key] = d.attributes[key];\r\n    }\r\n    return obj;\r\n  });\r\n};\r\n\r\nconst calculateAverageOverTime = (data, ofWhat, numDays, newKeyName) => {\r\n  const appendNewArrayContainingDataToBeAveraged = (theData) => {\r\n    theData.map((d, i) => {\r\n      if (i >= numDays - 1) {\r\n        d[newKeyName] = theData.slice(i - (numDays - 1), i + 1);\r\n      } else {\r\n        d[newKeyName] = null;\r\n      }\r\n      return d;\r\n    });\r\n    return theData;\r\n  };\r\n\r\n  const reduceNewArrayToSingleAverageNum = (theData) => {\r\n    const ans = theData.map((d) => {\r\n      // const oldArr = d[newKeyName];\r\n      if (d[newKeyName] && d[newKeyName].length === numDays) {\r\n        const added = d[newKeyName].reduce((acc, e) => {\r\n          acc += e[ofWhat];\r\n          return acc;\r\n        }, 0);\r\n        if (added && !isNaN(added)) {\r\n          d[newKeyName] = added / numDays;\r\n          // d.oldArr = oldArr;\r\n        }\r\n      }\r\n      return d;\r\n    });\r\n\r\n    return ans;\r\n  };\r\n\r\n  const ans = [\r\n    appendNewArrayContainingDataToBeAveraged,\r\n    reduceNewArrayToSingleAverageNum,\r\n  ].reduce((data, fn) => fn(data), data);\r\n\r\n  return ans;\r\n};\r\n\r\nconst calculatePercentageChangeOf = (data, ofWhat = 'ConfirmedCovidCases') => {\r\n  return data.map((d, i) => {\r\n    const v2 = d[ofWhat];\r\n    if (data[i - 1]) {\r\n      // skip the first\r\n      const v1 = data[i - 1][ofWhat];\r\n      const change = v2 - v1;\r\n      const percentageChange = Math.round((change * 100) / v1);\r\n      d.percentageDailyChange = percentageChange;\r\n    } else {\r\n      d.percentageDailyChange = null;\r\n    }\r\n    return d;\r\n  });\r\n};\r\n\r\nconst setSelectedDateAndData = (copy, latestDate) => {\r\n\r\n  return copy.map((graph) => {\r\n    const dateField = graph.xAxisAttribute;\r\n    if (!latestDate) {\r\n \r\n      latestDate = Math.max(...graph.all.map((c) => c[dateField]));\r\n    }\r\n    const latestData = graph.all.filter((a) => a[dateField] === latestDate)[0];\r\n    graph.selectedDate = latestDate;\r\n    graph.selectedDateData = latestData;\r\n    return graph;\r\n  });\r\n}\r\n\r\n// Statistic profile data doesn't exist before this date but the keys are still included with null values. Remove them. I can't figure out how to query the api properly. \r\nconst removeResultsWithDateBefore = (data) => {\r\n  return data.filter(d=> d.StatisticsProfileDate > MARCH_17_2020);\r\n};\r\n\r\n// Split the response up into the relevant it's relevant store.avail[].attrData[]\r\nconst splitIntoAttrData = ( storeData ) => {\r\n\r\n  const ans = storeData.map( graph => {\r\n\r\n    graph.avail = graph.avail.map( avail => {\r\n     \r\n      // pull out corresponding from all\r\n      const curFieldName = avail.fieldName;\r\n      \r\n      const ans = graph.all.map(r=>{\r\n    \r\n        const field = {};\r\n          // Or empty string because things go wrong later if there's any empty field {}'s in the array. \r\n          field[curFieldName]= r[curFieldName] || '';\r\n          field[graph.xAxisAttribute]= r[graph.xAxisAttribute] || ''\r\n         \r\n        return field;\r\n      });\r\n    \r\n      avail.attrData = ans;\r\n      return avail;\r\n    })\r\n    return graph;\r\n  })\r\n\r\n  \r\n  return ans;\r\n}\r\n\r\nconst processDailyData = ( graphsCopy, response ) => {\r\n \r\n  const withAverageChangeDailyCases = [\r\n    removeFromNestedAttributes,\r\n    calculatePercentageChangeOf,\r\n   \r\n  ].reduce((data, fn) => {\r\n    return fn(data);\r\n  }, response);\r\n\r\n  const with5DayAverage = calculateAverageOverTime(\r\n    withAverageChangeDailyCases,\r\n    'percentageDailyChange',\r\n    5,\r\n    'percentageDailyChange5DayAverage'\r\n  );\r\n\r\n  const withAverageDailyCasesEach5Days = calculateAverageOverTime(\r\n    with5DayAverage,\r\n    'ConfirmedCovidCases',\r\n    5,\r\n    'AverageConfirmedCases'\r\n  );\r\n  \r\n  // NOTE graph.all is the same for every graph. Should be pulled up or outside somewhere. I've added 'allSliceData' to the two store slices for it but i just can't be bothered. It was used all over the place in components but I've split the data instead into it's own store.avail[].attrData[] array. It's now used only in this file (I'm nearly sure) - I still need it ONCE to actually get the data split properly in splitIntoAttrData(), but I don't need a copy of it for every graph.\r\n  graphsCopy.map((graph) => (graph.all = withAverageDailyCasesEach5Days));\r\n  graphsCopy = splitIntoAttrData(graphsCopy);\r\n\r\n  return graphsCopy;\r\n}\r\n\r\nconst configureStore = () => {\r\n  const actions = {\r\n    SET_ALL_DAILY_GRAPHS: (curState, response) => {\r\n \r\n      const graphsCopy = curState.dailyGraphsStore.graphs;\r\n      \r\n      const ans = processDailyData(graphsCopy, response);\r\n\r\n      \r\n      return { graphs: ans };\r\n  \r\n    },\r\n    SET_ALL_PROFILE_STATS: (curState, response) => {\r\n      const copy = curState.profileStatsStore.graphs;\r\n\r\n      const withoutAttributesAndAfterMarch17 = [\r\n        removeFromNestedAttributes,\r\n        removeResultsWithDateBefore\r\n      ].reduce((data, fn) => {\r\n        return fn(data);\r\n      }, response);\r\n      \r\n      let ans = copy.map((graph) => (graph.all = withoutAttributesAndAfterMarch17));\r\n\r\n      ans = splitIntoAttrData(copy);\r\n   \r\n      return { graphs: ans };\r\n    },\r\n    // shared\r\n    SET_DAILY_STORE_DATE_AND_DATA: (curState, {latestDate, storeName}) => {\r\n\r\n      const copy = curState[storeName].graphs;\r\n\r\n      const ans = setSelectedDateAndData(copy, latestDate)\r\n\r\n      return { graphs: ans };\r\n    },\r\n    // shared\r\n    SELECT_DAILY_GRAPHS_ATTRS: (curState, { fieldName, graphId, storeName }) => {\r\n  \r\n      const copy = curState[storeName].graphs;\r\n\r\n      copy.map((graph) => {\r\n\r\n        if (graph.id === graphId) {\r\n          const newAvail = graph.avail.map((a) => {\r\n            if (a.fieldName === fieldName) {\r\n              a.selected = !a.selected;\r\n            }\r\n            return a;\r\n          });\r\n          graph.avail = newAvail;\r\n\r\n          // .selectedAttributeNames\r\n          const doAttrNames = (oldNames) => {\r\n            // not the right whatever....\r\n            if (!oldNames.includes(fieldName)) {\r\n              oldNames.push(fieldName);\r\n            } else {\r\n              const index = oldNames.indexOf(fieldName);\r\n              if (index > -1) {\r\n                oldNames.splice(index, 1);\r\n              }\r\n            }\r\n            return oldNames;\r\n          };\r\n\r\n          graph.selectedAttributeNames = doAttrNames(\r\n            graph.selectedAttributeNames\r\n          );\r\n        }\r\n\r\n        return graph;\r\n      });\r\n\r\n      return { dailyAlt: copy.graphs };\r\n    },\r\n  };\r\n  initStore(actions, {\r\n    dailyGraphsStore: dailyGraphsStore,\r\n    //===================================\r\n    profileStatsStore: profileStatsStore\r\n  });\r\n};\r\n\r\nexport default configureStore;\r\n","import React from 'react';\r\nimport classes from './sectionWrap.module.css';\r\n// import SectionSide from '../SectionSide/sectionSide';\r\n\r\n\r\nconst SectionWrap = ({ children }) => (\r\n  <div className={classes.sectionWrap}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default SectionWrap;\r\n","import React from 'react';\r\nimport classes from './sectionMain.module.css';\r\n\r\nconst SectionMain = ({ children, background }) => {\r\n  return (\r\n    <div\r\n      style={{ background: `${background ? background : 'var(--midBlack)'}` }}\r\n      className={classes.sectionMain}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SectionMain;\r\n","import React from 'react';\r\nimport classes from './sectionSide.module.css';\r\n\r\nconst SectionSide = ({title, subtitle, description, children}) => {\r\n  return(\r\n    <div className={classes.sectionSideWrap}>\r\n\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SectionSide;","import React from 'react';\r\nimport classes from './sectionHeader.module.css';\r\n\r\nconst SectionHeader = ({ title, subtitle, description, children }) => (\r\n  <div className={classes.sectionHeader}>\r\n    <h3>\r\n      {title} <br />\r\n      <small>{subtitle} </small>\r\n    </h3>\r\n    {description ? <p>{description}</p> : null}\r\n\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default SectionHeader;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\nimport classes from './axis.module.css';\r\n\r\nconst Axis = ({ dimensions, xScale, yScale, yTransformOffset = 0 }) => {\r\n  const xAxisRef = useRef(null);\r\n  const yAxisRef = useRef(null);\r\n  const xAxis = d3.axisBottom();\r\n  const yAxis = d3.axisLeft();\r\n  const yTickWidth = -Math.abs(\r\n    dimensions.width - dimensions.margin.right - dimensions.margin.left\r\n  );\r\n  const xTickWidth = -Math.abs(\r\n    dimensions.height - dimensions.margin.top - dimensions.margin.bottom\r\n  );\r\n\r\n  useEffect(() => {\r\n    doAxis();\r\n  });\r\n\r\n  const doAxis = () => {\r\n    const xRef = d3.select(xAxisRef.current);\r\n    const yRef = d3.select(yAxisRef.current);\r\n    xAxis.scale(xScale).ticks(d3.timeDay.every(3));\r\n\r\n    // yAxis.scale(yScale).ticks(10, ',.0f');\r\n    yAxis.scale(yScale).ticks(10, ',.1s');\r\n\r\n    xRef.call(xAxis.tickSize(xTickWidth));\r\n    yRef.call(yAxis.tickSize(yTickWidth));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <g\r\n        ref={xAxisRef}\r\n        className={classes.axisGroupX}\r\n        transform={`translate(0,${\r\n          dimensions.height - dimensions.margin.top + yTransformOffset\r\n        })`}\r\n      ></g>\r\n      <g\r\n        ref={yAxisRef}\r\n        className={classes.axisGroupY}\r\n        transform={`translate(${dimensions.margin.left}, 0)`}\r\n      ></g>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Axis;\r\n","import React from 'react';\r\n\r\nconst YAxisLabel = ({ text, yClass, height, margin }) => {\r\n  return (\r\n    <text\r\n      fill=\"var(--white)\" // for dark graph theme\r\n      x={-Math.abs(height -margin.bottom)}\r\n      y=\"12\"\r\n      style={{ transform: 'rotate(-90deg)', fontSize: '1rem', fontWeight:700 }}\r\n      className={yClass}\r\n    >\r\n      {text}\r\n    </text>\r\n  );\r\n};\r\n\r\nexport default YAxisLabel;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst HoverRect = ({\r\n  rect,\r\n  attr, // the actual data (from api attributes:{})\r\n  handleHoverDate,\r\n  handleHoverLeaveDate,\r\n  xAxisAttribute, // name of 'date' field - Date / StatisticsProfileDate\r\n  handleTextBox,\r\n  selected,\r\n  date,\r\n  selectRect,\r\n}) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  //set for first time\r\n  useEffect(() => {\r\n    selectRect(date);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const localHandleHover = (e) => {\r\n    setIsHovered(true);\r\n    handleHoverDate(e, attr);\r\n  };\r\n\r\n  const localHandleHoverLeave = (e) => {\r\n    setIsHovered(false);\r\n    handleHoverLeaveDate(e);\r\n  };\r\n\r\n  const localHandleTextBox = (attr) => {\r\n    selectRect(date);\r\n    handleTextBox(attr, xAxisAttribute);\r\n  };\r\n\r\n  const x = rect.x;\r\n  const half = x - rect.xOffset;\r\n  const y = rect.y;\r\n  const w = rect.rectWidth;\r\n\r\n  return (\r\n    <g>\r\n      <polygon\r\n        opacity={`${selected ? '1' : '0'}`}\r\n        stroke=\"var(--yellow)\"\r\n        strokeWidth=\"0.15rem\"\r\n        strokeLinejoin='round'\r\n        fill=\"var(--yellow)\"\r\n        points={`\r\n          ${x},${y}\r\n          ${x - w / 2},${y -(w/1.2) }\r\n          ${x + half},${y -(w/1.2) } \r\n        `}\r\n      />\r\n\r\n      <rect\r\n        key={rect.key}\r\n        onMouseEnter={(e) => localHandleHover(e)}\r\n        onMouseLeave={(e) => localHandleHoverLeave(e)}\r\n        x={rect.xOffset}\r\n        y={rect.y}\r\n        width={rect.rectWidth}\r\n        height={rect.height}\r\n        fill=\"var(--white)\" // for dark graph theme\r\n        style={{ transition: 'all 0.005s linear', cursor: 'pointer' }}\r\n        opacity={`${isHovered ? '0.2' : selected ? '0.1' : '0'}`}\r\n        onClick={() => localHandleTextBox(attr)}\r\n      />\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default HoverRect;\r\n","import React, { useState } from 'react';\r\nimport HoverRect from './hoverRect';\r\n\r\nconst HoverRectangles = ({\r\n  // graphData,\r\n  altGraphData,\r\n  dimensions,\r\n  xScale,\r\n  handleHoverDate,\r\n  xAxisAttribute,\r\n  handleHoverLeaveDate,\r\n  handleTextBox,\r\n}) => {\r\n\r\n  // console.log(graphData)\r\n  // console.log(altGraphData)\r\n  const [selectedRectDate, setSelectedRectDate] = useState('');\r\n  const { width, height, margin } = dimensions;\r\n  // temp\r\n  const graphData = altGraphData;\r\n  return graphData.length\r\n    ? graphData.map((attr, i) => {\r\n        const graphWidth = width - margin.left - margin.right;\r\n        const rectWidth = graphWidth / graphData.length;\r\n        const x = xScale(attr[xAxisAttribute]);\r\n        const xOffset = x - rectWidth / 2;\r\n        const rect = {\r\n          x: x,\r\n          y: margin.top,\r\n          graphWidth,\r\n          rectWidth,\r\n          height: height - margin.bottom-margin.top,\r\n          xOffset,\r\n          key: `${graphData.fieldName}-${i}`,\r\n\r\n          selected:\r\n            selectedRectDate === attr[xAxisAttribute]\r\n              ? true\r\n              : false,\r\n          date: attr[xAxisAttribute],\r\n        };\r\n        return x ? (\r\n          <HoverRect\r\n            rect={rect}\r\n            attr={attr}\r\n            key={attr[xAxisAttribute]}\r\n            handleHoverLeaveDate={handleHoverLeaveDate}\r\n            handleHoverDate={handleHoverDate}\r\n            handleTextBox={handleTextBox}\r\n            xAxisAttribute={xAxisAttribute}\r\n            selectRect={setSelectedRectDate}\r\n            selected={rect.selected}\r\n            date={rect.date}\r\n          />\r\n        ) : null;\r\n      })\r\n    : null;\r\n};\r\n\r\nexport default HoverRectangles;\r\n","import React from 'react';\r\nimport classes from './boringButton.module.css';\r\n\r\nconst BoringButton = ({ config, onClick, children, overRideStyle }) => {\r\n  const {\r\n    background,\r\n    borderRadius,\r\n    color,\r\n    border,\r\n    fontWeight,\r\n    fontSize,\r\n    padding,\r\n    outline,\r\n    minWidth,\r\n    position,\r\n    right,\r\n    left,\r\n    top,\r\n    bottom,\r\n  } = config || {};\r\n\r\n  const theStyle = () => {\r\n    return {\r\n      background: `${background ? background : 'var(--blue)'} `,\r\n      borderRadius: `${borderRadius ? borderRadius : '0.4rem'}`,\r\n      color: `${color ? color : 'var(--white)'}`,\r\n      border: `${border ? border : 'none'}`,\r\n      fontWeight: `${fontWeight ? fontWeight : '700'}`,\r\n      fontSize: `${fontSize ? fontSize : '0.6rem'}`,\r\n      padding: `${padding ? padding : '0.5rem 1rem'}`,\r\n      outline: `${outline ? outline : 'none'}`,\r\n      minWidth: `${minWidth ? minWidth : '5rem'}`,\r\n      position: `${position ? position : ''}`,\r\n      right: `${right ? right : ''}`,\r\n      left: `${left ? left : ''}`,\r\n      top: `${top ? top : ''}`,\r\n      bottom: `${bottom ? bottom : ''}`,\r\n      transition: 'all 200ms ease-out'\r\n    };\r\n  };\r\n\r\n  return (\r\n    <button className={classes.boringButton} style={{ ...theStyle(), ...overRideStyle }} onClick={onClick}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BoringButton;\r\n","import React from 'react';\r\nimport classes from './dots.module.css';\r\n\r\nconst Dots = ({\r\n  yScale,\r\n  xScale,\r\n  relAvail,\r\n  handleTextBox,\r\n  handleHover,\r\n  handleHoverLeave,\r\n  fieldName,\r\n}) => {\r\n\r\n  const { attrData, xAxisAttribute, useDifferentShape, name, color } = relAvail;\r\n\r\n  return attrData.map((attr, i) => {\r\n    const y = yScale(attr[fieldName]);\r\n    const x = xScale(attr[xAxisAttribute]);\r\n    return x && y && !relAvail.useDifferentShape ? (\r\n      <circle\r\n        key={`${fieldName}-${i}`}\r\n        className={classes.lineGraphCircle}\r\n        onClick={() => handleTextBox(attr, xAxisAttribute)}\r\n        onMouseEnter={(e) => handleHover(e, color, attr[fieldName])}\r\n        onMouseLeave={(e) => handleHoverLeave(e)}\r\n        cx={x}\r\n        cy={y}\r\n        r=\"0.2rem\"\r\n        id={name}\r\n        fill={color}\r\n      ></circle>\r\n    ) : x && y && useDifferentShape ? (\r\n      <rect\r\n        key={`${fieldName}-${i}`}\r\n        className={classes.lineGraphCircle}\r\n        onClick={() => handleTextBox(attr, xAxisAttribute)}\r\n        onMouseEnter={(e) => handleHover(e, attr, fieldName, attr[fieldName])}\r\n        onMouseLeave={(e) => handleHoverLeave(e)}\r\n        x={x}\r\n        y={y}\r\n        rx=\"0.1rem\"\r\n        id={name}\r\n        width=\"0.2rem\"\r\n        height=\"0.5rem\"\r\n        fill={color}\r\n      ></rect>\r\n    ) : null;\r\n  });\r\n\r\n};\r\n\r\nexport default Dots;\r\n","import React from 'react';\r\nimport classes from './tinyToolTip.module.css';\r\nconst TinyToolTip = ({ hoverPosition, hoverColor, children }) => {\r\n  const blacks = ['var(--black)', 'var(--midBlack)', 'var(--lightBlack)'];\r\n  return (\r\n    <div\r\n      className={classes.tinyTooltip}\r\n      style={{\r\n        position: 'fixed',\r\n        left: `${hoverPosition[0]}px`,\r\n        top: `${hoverPosition[1]}px`,\r\n        background: `${hoverColor}`,\r\n        color: `${\r\n          blacks.includes(hoverColor) ? 'var(--white)' : 'var(--black)'\r\n        }`,\r\n        padding: '0.5rem 1rem',\r\n        borderRadius: '0.4rem',\r\n        fontSize: '0.6rem',\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TinyToolTip;\r\n","import React, { useState, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\nimport classes from './lineGraphDaily.module.css';\r\nimport Axis from '../../../UI/Graphs/axis';\r\nimport YAxisLabel from '../../../UI/Graphs/yAxisLabel';\r\nimport Line from '../../../UI/Graphs/line';\r\nimport { useStore } from '../../../Store/store';\r\nimport HoverRectangles from '../../../UI/Graphs/HoverRectangles/hoverRectangles';\r\nimport BoringButton from '../../../UI/Buttons/boringButton';\r\n// temp\r\nimport Dots from '../../../UI/Graphs/Dots/dots';\r\nimport TinyToolTip from '../../../UI/ToolTips/tinyToolTip';\r\nconst dimensions = {\r\n  margin: {\r\n    left: 50,\r\n    right: 50,\r\n    top: 50,\r\n    bottom: 50,\r\n  },\r\n  width: 800,\r\n  height: 600,\r\n};\r\n\r\nconst getMinMax = (extents) => {\r\n  const maxValue = extents.map(() => Math.max(...extents.map((h) => h[1])))[0];\r\n  const minValue = extents.map(() => Math.min(...extents.map((h) => h[0])))[0];\r\n  return [minValue, maxValue];\r\n};\r\n\r\nconst { margin, width, height } = dimensions;\r\nconst LineGraphDaily = ({ graphId, storeName, handleTextBox }) => {\r\n  const dailyData = useStore()[0][storeName].graphs;\r\n\r\n  const daily = dailyData.filter((d) => d.id === graphId)[0]; //should be called graph\r\n\r\n  const [selectLogScale, setSelectLogScale] = useState(true);\r\n\r\n  const svgRef = useRef(null);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [hoverInfo, setHoverInfo] = useState();\r\n  const [hoverColor, setHoverColor] = useState();\r\n  const [hoverPosition, setHoverPosition] = useState([]);\r\n\r\n  const calculateYExtentOfSelectedAttributes = () => {\r\n    const getExtentsForTheseAttributes = () => {\r\n      const extents = daily.selectedAttributeNames.map((attr) => {\r\n        const relevant = daily.avail.filter((a) => a.fieldName === attr)[0];\r\n        return d3.extent(relevant.attrData, (d) => d[attr]);\r\n      });\r\n\r\n      return extents;\r\n    };\r\n\r\n    const selectedExtents = getExtentsForTheseAttributes();\r\n    return getMinMax(selectedExtents);\r\n  };\r\n\r\n  const getYScale = () => {\r\n    const getYExtent = () => {\r\n      let extent = calculateYExtentOfSelectedAttributes();\r\n      // logScale can't deal with <= 0\r\n      if (selectLogScale && extent[0] <= 0) {\r\n        extent[0] = 1;\r\n      }\r\n      return extent;\r\n    };\r\n\r\n    const yExtent = getYExtent();\r\n\r\n    if (selectLogScale) {\r\n      const yScale = d3\r\n        .scaleLog()\r\n        // .scaleSymlog() accepts values below zero but causes more trouble than it's worth\r\n        .domain(yExtent)\r\n        .clamp(true)\r\n        .range([height - margin.top, margin.bottom])\r\n        .nice();\r\n      yScale.theType = 'LOG'; // need this for nice axis (axis.js)\r\n      return yScale;\r\n    } else {\r\n      const yScale = d3\r\n        .scaleLinear()\r\n        .domain(yExtent)\r\n        .clamp(true)\r\n        .range([height - margin.top, margin.bottom]);\r\n      yScale.theType = 'LINEAR'; // need this for nice axis\r\n\r\n      return yScale;\r\n    }\r\n  };\r\n\r\n  const getXExtent = () => {\r\n    const extents = daily.selectedAttributeNames.map((selected) => {\r\n      const relevant = daily.avail.filter((a) => a.fieldName === selected)[0];\r\n      return d3.extent(relevant.attrData, (d) => d[daily.xAxisAttribute]);\r\n    });\r\n    return getMinMax(extents);\r\n  };\r\n\r\n  const getXScale = () => {\r\n    const xExtent = getXExtent();\r\n    const xScale = d3\r\n      .scaleTime()\r\n      .domain([xExtent[0], xExtent[1]])\r\n      .range([margin.left, width - margin.right]);\r\n    return xScale;\r\n  };\r\n\r\n  const colorScale = d3\r\n    .scaleSequential()\r\n    .domain([0, 100])\r\n    .interpolator(d3.interpolateRainbow);\r\n\r\n  // const handleTextBox = (data, dateFieldName) => {\r\n  //   if (!data || !dateFieldName) return;\r\n  //   const dateToSelect = data[dateFieldName];\r\n  //   dispatch('SET_DAILY_GRAPHS_SELECTED_DATE_AND_DATA', dateToSelect);\r\n  // };\r\n\r\n  const handleHover = (e, color, val) => {\r\n    if (!e || !color || !val) return;\r\n\r\n    setHoverInfo(`${e.target.id}: ${val}`);\r\n\r\n    setHoverColor(color);\r\n    const xP = e.clientX + 20;\r\n    const yP = e.clientY - 10;\r\n    setHoverPosition([xP, yP]);\r\n    setIsHovered(true);\r\n  };\r\n  const handleHoverLeave = (e) => {\r\n    setIsHovered(false);\r\n  };\r\n  //============\r\n  const handleHoverDate = (e, info) => {\r\n    // daily data date attr is 'Date'\r\n    // statistics profile data date attr is 'StatisticsProfileDate'\r\n    let dateFieldName = 'Date';\r\n    if (!info[dateFieldName]) {\r\n      dateFieldName = 'StatisticsProfileDate';\r\n    }\r\n    setHoverInfo(new Date(info[dateFieldName]).toString().substring(0, 10));\r\n    setHoverColor('var(--lightBlack)');\r\n\r\n    const xP = e.clientX + 20;\r\n    const yP = e.clientY - 10;\r\n    setHoverPosition([xP, yP]);\r\n    setIsHovered(true);\r\n  };\r\n\r\n  const handleHoverLeaveDate = () => {\r\n    setIsHovered(false);\r\n  };\r\n  //==========\r\n  const getColor = (fieldName) => {\r\n    const check = daily.avail.filter((d) => d.fieldName === fieldName);\r\n    if (check.length && check[0].color) {\r\n      return check[0].color;\r\n    }\r\n\r\n    return 'var(--blue)';\r\n  };\r\n  const toggleLogScale = () => {\r\n    const currentLog = selectLogScale;\r\n    setSelectLogScale(!currentLog);\r\n  };\r\n\r\n  return (\r\n    <>\r\n\r\n      <BoringButton\r\n        onClick={toggleLogScale}\r\n        overRideStyle={{\r\n          background: `${\r\n            selectLogScale ? 'var(--lightBlack)' : 'var(--covidGreen)'\r\n          }`,\r\n          color: `${\r\n            selectLogScale ? 'var(--covidGreen)' : 'var(--lightBlack)'\r\n          }`,\r\n          borderRadius: ' 0.4rem',\r\n          border: 'none',\r\n          fontWeight: '800',\r\n          letterSpacing: '0.1rem',\r\n          textTransform: 'uppercase',\r\n          fontSize: '0.6rem',\r\n          padding: '0.5rem 1rem',\r\n          outline: 'none',\r\n          minWidth: '5rem',\r\n          display: 'grid',\r\n          alignSelf: 'center',\r\n          justifySelf: 'center',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        {selectLogScale ? 'Use Linear Scale' : 'Use Log Scale'}\r\n      </BoringButton>\r\n      {isHovered && hoverPosition.length ? (\r\n        <TinyToolTip\r\n          hoverPosition={hoverPosition}\r\n          hoverColor={hoverColor}\r\n        >\r\n          {hoverInfo}\r\n        </TinyToolTip>\r\n      ) : null}\r\n\r\n      <svg\r\n        style={{ maxWidth: '100%' }}\r\n        ref={svgRef}\r\n        viewBox=\"0 0 800 600\"\r\n        width={width}\r\n      >\r\n        {daily ? (\r\n          <>\r\n            <Axis\r\n              dimensions={dimensions}\r\n              xScale={getXScale()}\r\n              yScale={getYScale()}\r\n              selectLogScale={selectLogScale}\r\n            />\r\n\r\n            <YAxisLabel\r\n              text={daily.xAxisLabel}\r\n              yClass={classes.yLabel}\r\n              height={height}\r\n              margin={margin}\r\n            />\r\n\r\n            <HoverRectangles\r\n              // graphData={daily.all}\r\n              // TODO is this okay...\r\n              altGraphData={daily.avail[0].attrData}\r\n              dimensions={dimensions}\r\n              xScale={getXScale()}\r\n              xAxisAttribute={daily.xAxisAttribute} // todo\r\n              handleHoverLeaveDate={handleHoverLeaveDate}\r\n              handleHoverDate={handleHoverDate}\r\n              handleTextBox={handleTextBox}\r\n            />\r\n            {daily.selectedAttributeNames.map((fieldName) => {\r\n              return (\r\n                <g key={fieldName}>\r\n                  <Line\r\n                    graphData={daily.all}\r\n                    altGraphData={\r\n                      daily.avail.filter((a) => {\r\n                        return a.fieldName === fieldName;\r\n                      })[0].attrData\r\n                    }\r\n                    i=\"0\"\r\n                    key={fieldName}\r\n                    handleHover={handleHover}\r\n                    handleHoverLeave={handleHoverLeave}\r\n                    xScale={getXScale()}\r\n                    yScale={getYScale()}\r\n                    colorScale={colorScale}\r\n                    fieldName={fieldName}\r\n                    color={getColor(fieldName)}\r\n                    xAxisAttribute={daily.xAxisAttribute}\r\n                  />\r\n\r\n                  <Dots\r\n                    relAvail={\r\n                      daily.avail.filter((a) => a.fieldName === fieldName)[0]\r\n                    }\r\n                    xScale={getXScale()}\r\n                    yScale={getYScale()}\r\n                    fieldName={fieldName}\r\n                    handleTextBox={handleTextBox}\r\n                    handleHover={handleHover}\r\n                    handleHoverLeave={handleHoverLeave}\r\n                  />\r\n                </g>\r\n              );\r\n            })}\r\n          </>\r\n        ) : null}\r\n      </svg>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LineGraphDaily;\r\n","import React from 'react';\r\nimport classes from './attributeBtns.module.css'\r\n\r\nconst AttributeBtns = ({availableAttributes, handleSelectData, graphIndex}) => {\r\n\r\n  return<div className={classes.btnGroupWrap}>\r\n  { availableAttributes.map((a) => (\r\n    <button\r\n      key={a.fieldName}\r\n      id={a.name}\r\n      name={a.fieldName}\r\n      selected={a.selected}\r\n      style={{\r\n        opacity: `${!a.selected ? '0.8' : `1`}`,\r\n        background: `${a.selected ? `${a.color}` : `none`}`,\r\n        border: `${\r\n          !a.selected ? `0.1rem solid ${a.color}` : `0.1rem solid ${a.color}`\r\n        }`,\r\n        // border: `${`0.1rem solid ${a.color}`\r\n        // }`,\r\n        color: `${a.selected && a.color === 'var(--white)' ? `var(--lightBlack)` : `var(--white)`}`,\r\n        outline: 'none',\r\n      }}\r\n      onClick={(e) => handleSelectData(e, graphIndex)}\r\n    >\r\n      {a.name}\r\n    </button>\r\n  ))\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default AttributeBtns;","import React from 'react';\r\nimport classes from './altTextBox.module.css';\r\n\r\nconst AltTextBox = ({\r\n  arrayToShowInTextBox,\r\n  selectedDate,\r\n  numAvailableAttrs,\r\n}) => {\r\n\r\n  const RightSpan = ({ text, color }) => {\r\n    return (\r\n      <span\r\n        style={{\r\n          background: `${color}`,\r\n          color: `${color === 'var(--white)' ? 'var(--black)' : ''}`,\r\n        }}\r\n        className={classes.rightSpan}\r\n      >\r\n        {text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classes.profileStatsTextBox}\r\n      // Initial height of box needs to be ok to fit all possible '.infoWraps' so there's no jumping around the page when things are selected. grid-gap on parent is 0.4rem, h4 = 2rem\r\n      style={{\r\n        minHeight: `${\r\n          (numAvailableAttrs + 2) * 2 + (numAvailableAttrs + 2) * 0.4\r\n        }rem`,\r\n      }}\r\n    >\r\n      <div className={classes.infoWrap}>\r\n        <h4>{new Date(selectedDate).toString().substring(0, 16)}</h4>\r\n      </div>\r\n      {arrayToShowInTextBox.map((d, i) => {\r\n        return (\r\n          <div className={classes.infoWrap} key={i}>\r\n            <p> {d.title} </p>\r\n            <RightSpan color={d.color} text={d.value} />\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AltTextBox;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport classes from './dailyGraphs.module.css';\r\nimport axios from 'axios';\r\n\r\nimport configureDailyGraphsStore from '../DailyAndProfileData/dailyGraphs-store';\r\nimport { useStore } from '../../Store/store';\r\nimport { DAILY_GRAPHS } from '../../constants';\r\nimport { sharedUtil } from '../../util-functions';\r\n\r\nimport SectionWrap from '../../UI/Sections/SectionWrap/sectionWrap';\r\nimport SectionWrapper from '../../UI/Sections/SectionWrapper/sectionWrapper';\r\nimport SectionMain from '../../UI/Sections/SectionMain/sectionMain';\r\nimport SectionSide from '../../UI/Sections/SectionSide/sectionSide';\r\nimport SectionHeader from '../../UI/Sections/SectionHeader/sectionHeader';\r\nimport LineGraphDaily from './LineGraphDaily/lineGraphDaily';\r\nimport AttributeBtns from '../../UI/Buttons/AttributeBtns/attributeBtns';\r\nimport ErrorComp from '../../UI/error';\r\nimport AltTextBox from '../../UI/AltTextBox/altTextBox';\r\n\r\nconfigureDailyGraphsStore();\r\n\r\nconst { dailyStatsSoFarUrl } = DAILY_GRAPHS;\r\nconst { prepArrayToShowInTextBox } = sharedUtil;\r\n\r\nconst DailyGraphs = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const dispatch = useStore()[1];\r\n  const graphs = useStore()[0].dailyGraphsStore.graphs;\r\n\r\n  const getDailyStats = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(dailyStatsSoFarUrl);\r\n      return response.data.features;\r\n    } catch (e) {\r\n      setIsLoading(false);\r\n      setIsError(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n      try {\r\n        const data = await getDailyStats();\r\n        \r\n        dispatch('SET_ALL_DAILY_GRAPHS', data);\r\n        dispatch('SET_DAILY_STORE_DATE_AND_DATA', {\r\n          latestDate: false,\r\n          storeName: 'dailyGraphsStore',\r\n        });\r\n        setIsLoading(false);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleSelectData = (e, graphId) => {\r\n    const fieldName = e.target.name;\r\n    dispatch('SELECT_DAILY_GRAPHS_ATTRS', {\r\n      fieldName,\r\n      graphId,\r\n      storeName: 'dailyGraphsStore',\r\n    });\r\n  };\r\n\r\n  const handleTextBox = (data, dateFieldName) => {\r\n    if (!data || !dateFieldName) return;\r\n    const dateToSelect = data[dateFieldName];\r\n    dispatch('SET_DAILY_STORE_DATE_AND_DATA', {\r\n      latestDate: dateToSelect,\r\n      storeName: 'dailyGraphsStore',\r\n    });\r\n  };\r\n\r\n  return graphs && graphs.length\r\n    ? graphs.map((graph, index) => (\r\n        <SectionWrapper key={index}>\r\n          <SectionWrap>\r\n            <SectionSide>\r\n              {isError ? (\r\n                <ErrorComp msg=\"Could not load data.\" />\r\n              ) : (\r\n                <>\r\n                  <SectionHeader\r\n                    title={graph.sectionName}\r\n                    subtitle=\"\"\r\n                    description={graph.description}\r\n                  />\r\n\r\n                  <div className={classes.forBreakPointBetween900And300}>\r\n                    {!isLoading ? (\r\n                      <AltTextBox\r\n                        arrayToShowInTextBox={prepArrayToShowInTextBox(graph)}\r\n                        selectedDate={graph.selectedDate}\r\n                        numAvailableAttrs={graph.avail.length}\r\n                      />\r\n                    ) : (\r\n                      'Loading...'\r\n                    )}\r\n\r\n                    <AttributeBtns\r\n                      availableAttributes={graph.avail}\r\n                      graphIndex={graph.id}\r\n                      handleSelectData={handleSelectData}\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </SectionSide>\r\n            <SectionMain>\r\n              {!isLoading && graph ? (\r\n                <LineGraphDaily\r\n                  graphId={graph.id}\r\n                  storeName=\"dailyGraphsStore\"\r\n                  handleTextBox={handleTextBox}\r\n                />\r\n              ) : (\r\n                'Loading...'\r\n              )}\r\n            </SectionMain>\r\n          </SectionWrap>\r\n        </SectionWrapper>\r\n      ))\r\n    : null;\r\n};\r\n\r\nexport default DailyGraphs;\r\n","import React from 'react';\r\nimport Layout from '../layout';\r\nimport Summary from '../Summary/summary';\r\nimport ExtraInfo from './ExtraInfo/extraInfo';\r\nimport DailyGraphs from '../DailyGraphs/dailyGraphs';\r\n\r\nconst DailyPage = () => (\r\n  <Layout>\r\n    <Summary />\r\n    <DailyGraphs />\r\n    <ExtraInfo />\r\n  </Layout>\r\n);\r\n\r\nexport default DailyPage;\r\n","import React from 'react';\r\nimport classes from './header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => (\r\n  <header className={classes.header}>\r\n    <h1>Ireland Coronavirus Stats</h1>\r\n    <nav>\r\n      <ul>\r\n        <li>\r\n          <NavLink exact to=\"/\" activeClassName={classes.navActive}>\r\n            Home\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink exact to=\"/stats\" activeClassName={classes.navActive}>\r\n            Profile Stats\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink exact to=\"/counties\" activeClassName={classes.navActive}>\r\n            Counties\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink exact to=\"/contact\" activeClassName={classes.navActive}>\r\n            Contact\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport classes from './footer.module.css';\r\n\r\nconst Footer = () => (\r\n  <footer className={classes.footer}>\r\n    <p>&copy; Ireland Coronavirus Stats 2020</p>\r\n  </footer>\r\n);\r\n\r\nexport default Footer;\r\n","import { initStore } from '../../Store/store';\r\nimport { countiesStoreUtil as util, sharedUtil } from '../../util-functions';\r\n\r\n// Leaving this function here so one can easily see what it's doing.\r\nconst doTediousStuff = (features) => {\r\n  return [\r\n    sharedUtil.removeFromNestedAttributes,\r\n    util.sortIntoArraysByCounty,\r\n    util.turnArraysIntoNiceObjects,\r\n  ].reduce((features, fn) => {\r\n    return fn(features);\r\n  }, features);\r\n};\r\n\r\nconst configureStore = () => {\r\n  const actions = {\r\n    INIT_COUNTY_DATA: (curState, response) => {\r\n      const copy = curState.sections;\r\n\r\n      const allCounties = doTediousStuff(response);\r\n      copy[0].allCounties = allCounties;\r\n\r\n      // Init Default selected county to first county in array\r\n      copy[0].allStatsAboutSelectedCounty = allCounties[0];\r\n      copy[0].selectedCountyDataForSelectedDate = util.getLatestOrSelectedDateDataForCounty(\r\n        allCounties[0],\r\n        undefined\r\n      );\r\n\r\n      // Init Default date to date of latest available data for first county in array\r\n      copy[0].selectedDate = sharedUtil.getLatestDate(allCounties[0]);\r\n\r\n      return { sections: copy };\r\n    },\r\n    INIT_ALL_COUNTIES_LATEST_DATA: (curState, response) => {\r\n      const withoutNestedAttributes = sharedUtil.removeFromNestedAttributes(response);\r\n      const copy = curState.sections;\r\n\r\n      copy[0].allCountiesLatestData = withoutNestedAttributes;\r\n    },\r\n\r\n    // When selected date changes...\r\n    UPDATE_ALL_COUNTIES_LATEST_DATA: (curState, date) => {\r\n      const copy = curState.sections;\r\n\r\n      const newAllCountiesLatestData = copy[0].allCounties.map(\r\n        (county) =>\r\n          county.stats.filter((stat) => stat.TimeStampDate === date)[0]\r\n      );\r\n      copy[0].allCountiesLatestData = newAllCountiesLatestData;\r\n\r\n      return { sections: copy };\r\n    },\r\n\r\n    SELECT_ATTRIBUTE: (curState, fieldName) => {\r\n      const copy = curState.sections;\r\n\r\n      const withThisFieldNameSelected = util.selectAttributeWithThisFieldName(\r\n        copy[0].avail,\r\n        fieldName\r\n      );\r\n\r\n      copy[0].avail = withThisFieldNameSelected;\r\n\r\n      // also set just the name\r\n      copy[0].selectedAttributeName = fieldName;\r\n\r\n      return { sections: copy };\r\n    },\r\n\r\n    SELECT_COUNTY: (curState, county) => {\r\n      const copy = curState.sections;\r\n\r\n      const selectedCounty = copy[0].allCounties.filter(\r\n        (a) => a.name === county\r\n      )[0];\r\n\r\n      const selectedDate = copy[0].selectedDate || '';\r\n      const latestData = util.getLatestOrSelectedDateDataForCounty(\r\n        selectedCounty,\r\n        selectedDate\r\n      );\r\n\r\n      copy[0].allStatsAboutSelectedCounty = selectedCounty;\r\n      copy[0].selectedCountyDataForSelectedDate = latestData;\r\n\r\n      // and set selected bool in allCounties\r\n      copy[0].allCounties = copy[0].allCounties.map((all) => {\r\n        if (all.name === county) {\r\n          all.selected = true;\r\n        } else {\r\n          all.selected = false;\r\n        }\r\n        return all;\r\n      });\r\n\r\n      return { sections: copy };\r\n    },\r\n    SELECT_DATE: (curState, date) => {\r\n      // want to set selectedCountyLatest data to whatever is in allStatsAboutSelectedCounty ie find correct one by date in allStatsAboutSelectedCounty.stats\r\n      const copy = curState.sections;\r\n      const ans = copy[0].allStatsAboutSelectedCounty.stats.filter(\r\n        (county) => county.TimeStampDate === date\r\n      )[0];\r\n\r\n      copy[0].selectedCountyDataForSelectedDate = ans;\r\n      copy[0].selectedDate = date;\r\n\r\n      // also set allCountiesLatestData\r\n      return { sections: copy };\r\n    },\r\n  };\r\n  initStore(actions, {\r\n    sections: [\r\n      {\r\n        name: 'Counties Time',\r\n        sectionName: 'Counties',\r\n        allCounties: [], // allCountiesAllResultsConfirmedCasesMoreThanZero\r\n        allCountiesLatestData: [], // [{county}x26]\r\n        allStatsAboutSelectedCounty: {}, // Is one {} from allCounties[]\r\n        xAxisAttribute: 'TimeStampDate',\r\n        selectedDate: '',\r\n        selectedCountyDataForSelectedDate: {}, // Rename, may as well use this for selected date data as well\r\n        selectedAttributeName: 'ConfirmedCovidCases',\r\n        avail: [\r\n          {\r\n            name: 'Confirmed Cases',\r\n            fieldName: 'ConfirmedCovidCases',\r\n            yAxisAttribute: 'CountyName',\r\n            xAxisDescription: 'Number of Confirmed Cases',\r\n            selected: true,\r\n            color: 'var(--purple)',\r\n          },\r\n          {\r\n            name: 'Cases per 100,000',\r\n            fieldName: 'PopulationProportionCovidCases',\r\n            yAxisAttribute: 'CountyName',\r\n            xAxisDescription: 'Cases per 100,000 of Population',\r\n            selected: false,\r\n            color: 'var(--green)',\r\n          },\r\n          {\r\n            name: 'Population 2016',\r\n            fieldName: 'PopulationCensus16',\r\n            yAxisAttribute: 'Population 2016',\r\n            xAxisDescription: 'Population 2016',\r\n            selected: false,\r\n            color: 'var(--orange)',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  });\r\n};\r\n\r\nexport default configureStore;\r\n","import React from 'react';\r\nimport classes from './selectGraphBtnGroup.module.css';\r\nconst SelectGraphBtnGroup = ({data, handleSelectGraph, btnClass}) => (\r\n  <div className={classes.btnGroupWrap}>\r\n      {data.map((graph, i) => (\r\n        <button\r\n          className={classes.tabBtn}\r\n          key={i}\r\n          style={{\r\n            background: `${graph.selected ? 'var(--yellow)' : 'var(--black)'}`,\r\n            color: `${graph.selected ? 'var(--lightBlack)' : 'var(--white)'}`,\r\n            fontWeight: `${graph.selected ? '800' : 'normal'}`,\r\n          }}\r\n          onClick={() => handleSelectGraph(graph.name)}\r\n        >\r\n          {graph.sectionName}\r\n        </button>\r\n      ))}\r\n  </div>\r\n  )\r\n\r\n\r\nexport default SelectGraphBtnGroup;","import React from 'react';\r\n\r\nconst paths = {\r\n  \r\n    back: (color) => <path fill={color} d=\"M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z\"></path>,\r\n\r\n    forward: (color)=> <path fill={color} d=\"M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z\"></path>,\r\n  \r\n    beginning: (color)=> <path fill={color} d=\"M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z\"></path>,\r\n  \r\n    end: (color) => <path fill={color} d=\"M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z\"></path>, \r\n  \r\n    stop: (color) => <path fill={color} d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z\"></path>,\r\n  \r\n    play: (color) => <path fill={color} d=\"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z\"></path>\r\n  \r\n}\r\n\r\n\r\n\r\nconst CtrlSvg = ({ctrlType, color, height}) => {\r\n\r\n  return <svg style={{height}} aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n    {paths[ctrlType](color)}\r\n  </svg>\r\n}\r\n\r\nexport default CtrlSvg;\r\n\r\n","import React from 'react';\r\nimport classes from './clickArrows.module.css';\r\nimport CtrlSvg from '../../../img/ctrlSvg';\r\n\r\nconst ClickArrows = ({\r\n  handleSelectDate,\r\n  selectedDate,\r\n  justDates,\r\n  setIsPlaying,\r\n  isPlaying,\r\n}) => {\r\n  const localHandleSelectDate = (isNext) => {\r\n    const indexer = (i) => (isNext ? i + 1 : i - 1);\r\n    const selectedIndex = justDates.indexOf(selectedDate);\r\n    const ans = justDates[indexer(selectedIndex)];\r\n    const nextPrevDate = ans ? ans : selectedDate;\r\n\r\n    if (nextPrevDate === selectedDate) return;\r\n\r\n    handleSelectDate(nextPrevDate);\r\n  };\r\n\r\n  const localHandleBackToStart = () => {\r\n    const earliestDate = Math.min(...justDates.map((d) => d));\r\n    handleSelectDate(earliestDate);\r\n  };\r\n\r\n  const localHandleToLastDate = () => {\r\n    const latestDate = Math.max(...justDates.map((d) => d));\r\n    handleSelectDate(latestDate);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.clickArrowsWrap}>\r\n      <span className={classes.dateSpan}>\r\n        {new Date(selectedDate).toString().substring(0, 16)}\r\n      </span>\r\n      <div className={classes.clickArrows}>\r\n        <button onClick={() => localHandleBackToStart()}>\r\n          <span role=\"img\" aria-label=\"back to start\">\r\n            <CtrlSvg ctrlType=\"beginning\" color=\"var(--yellow)\" height=\"1rem\" />\r\n          </span>\r\n        </button>\r\n        <button onClick={() => localHandleSelectDate(false)}>\r\n          <span role=\"img\" aria-label=\"back one\">\r\n            <CtrlSvg ctrlType=\"back\" color=\"var(--yellow)\" height=\"1rem\" />\r\n          </span>\r\n        </button>\r\n        <button onClick={() => setIsPlaying(!isPlaying)}>\r\n          {isPlaying ? (\r\n            <span>\r\n              <CtrlSvg ctrlType=\"stop\" color=\"var(--yellow)\" height=\"2rem\" />\r\n            </span>\r\n          ) : (\r\n            <span role=\"img\" aria-label=\"play\">\r\n              <CtrlSvg ctrlType=\"play\" color=\"var(--yellow)\" height=\"2rem\" />\r\n            </span>\r\n          )}\r\n        </button>\r\n        <button onClick={() => localHandleSelectDate(true)}>\r\n          <span role=\"img\" aria-label=\"forward one\">\r\n            <CtrlSvg ctrlType=\"forward\" color=\"var(--yellow)\" height=\"1rem\" />\r\n          </span>\r\n        </button>\r\n        <button onClick={() => localHandleToLastDate()}>\r\n          <span role=\"img\" aria-label=\"to end\">\r\n            <CtrlSvg ctrlType=\"end\" color=\"var(--yellow)\" height=\"1rem\" />\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClickArrows;\r\n","import React from 'react';\r\nimport SectionHeader from '../../../UI/Sections/SectionHeader/sectionHeader';\r\nimport ClickArrows from '../ClickArrows/clickArrows';\r\n\r\nconst CountiesSideSectionHeader = ({\r\n  storeSections,\r\n  isPlaying,\r\n  setIsPlaying,\r\n  handleSelectDate,\r\n}) => {\r\n  return (\r\n    <SectionHeader\r\n      title={`${\r\n        storeSections.avail.filter((a) => a.selected)[0].name\r\n      } by County`}\r\n      subtitle=\"\"\r\n    >\r\n      {storeSections.selectedDate && storeSections.allCounties.length ? (\r\n        <ClickArrows\r\n          handleSelectDate={handleSelectDate}\r\n          selectedDate={storeSections.selectedDate}\r\n          justDates={storeSections.allCounties[0].stats.map(\r\n            (s) => s.TimeStampDate\r\n          )}\r\n          isPlaying={isPlaying}\r\n          setIsPlaying={setIsPlaying}\r\n        />\r\n      ) : null}\r\n    </SectionHeader>\r\n  );\r\n};\r\n\r\nexport default CountiesSideSectionHeader;\r\n","import React from 'react';\r\nimport classes from './textBox.module.css';\r\nimport { useStore } from '../../../Store/store';\r\n\r\nconst TextBox = () => {\r\n  const storeSections = useStore()[0].sections[0];\r\n  const selectedCountyDataForSelectedDate =\r\n    storeSections.selectedCountyDataForSelectedDate;\r\n \r\n  const RightSpan = ({ text, fieldName }) => {\r\n    const getColor = (name) =>\r\n      storeSections.avail.filter((s) => s.fieldName === name)[0].color;\r\n    let color = 'var(--blue)';\r\n    let attrColor = getColor(fieldName);\r\n    if (attrColor) color = attrColor;\r\n\r\n    return (\r\n      <span style={{ background: `${color}` }} className={classes.rightSpan}>\r\n        {text || ''}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  return selectedCountyDataForSelectedDate ? (\r\n    <div className={classes.textItem}>\r\n      <div className={classes.infoWrap}>\r\n        <h3>\r\n          {selectedCountyDataForSelectedDate.CountyName} <br />\r\n          <span className={classes.small}>\r\n            {new Date(\r\n              selectedCountyDataForSelectedDate[storeSections.xAxisAttribute]\r\n            )\r\n              .toString()\r\n              .substring(0, 16)}\r\n          </span>\r\n        </h3>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Confirmed Cases: </p>\r\n        <RightSpan\r\n          text={selectedCountyDataForSelectedDate.ConfirmedCovidCases}\r\n          fieldName=\"ConfirmedCovidCases\"\r\n        ></RightSpan>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Population 2016: </p>\r\n        <RightSpan\r\n          text={selectedCountyDataForSelectedDate.PopulationCensus16}\r\n          fieldName=\"PopulationCensus16\"\r\n        ></RightSpan>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Cases per 100,000: </p>\r\n        <RightSpan\r\n          text={\r\n            selectedCountyDataForSelectedDate.PopulationProportionCovidCases\r\n              ? selectedCountyDataForSelectedDate.PopulationProportionCovidCases.toFixed(\r\n                  2\r\n                )\r\n              : ''\r\n          }\r\n          fieldName=\"PopulationProportionCovidCases\"\r\n        ></RightSpan>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className={classes.textItem}>\r\n      <div className={classes.infoWrap}>\r\n        <h3>\r\n          {' '}\r\n          <br />\r\n          <span className={classes.small}></span>\r\n        </h3>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Confirmed Cases: </p>\r\n        <RightSpan text={''}></RightSpan>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Population 2016: </p>\r\n        <RightSpan text={''}></RightSpan>\r\n      </div>\r\n      <div className={classes.infoWrap}>\r\n        <p>Cases per 100,000: </p>\r\n        <RightSpan text={''}></RightSpan>\r\n      </div>\r\n      >\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextBox;\r\n","import React from 'react';\r\nimport classes from './countyBtns.module.css';\r\n\r\nconst CountyBtns = ({ counties, handleSelectCounty }) => {\r\n  return (\r\n    <div className={classes.countiesTinyBtnGroupWrap}>\r\n      {counties.map((county) => {\r\n        return (\r\n          <button\r\n            style={{\r\n              border: `${\r\n                county.selected ? `none` : `0.1rem solid ${county.color}`\r\n              }`,\r\n              background: `${\r\n                county.selected ? `${county.color}` : `var(--lightBlack)`\r\n              }`,\r\n              color: `${\r\n                county.selected ? 'var(--lightBlack)' : 'var(--white)'\r\n              }`,\r\n              fontWeight: '700',\r\n            }}\r\n            id={county.name}\r\n            key={county.name}\r\n            onClick={(e) => handleSelectCounty(e)}\r\n          >\r\n            {county.name}\r\n          </button>\r\n        );\r\n      })}\r\n      ;\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountyBtns;\r\n","import React from 'react';\r\nimport CountiesSideSectionHeader from './countiesSideSectionHeader';\r\nimport SectionSide from '../../../UI/Sections/SectionSide/sectionSide';\r\nimport TextBox from '../TextBox/textBox';\r\nimport AttributeBtns from '../../../UI/Buttons/AttributeBtns/attributeBtns';\r\nimport CountyBts from '../SectionsUI/CountyBtns/countyBtns';\r\nimport classes from './countiesSideSection.module.css';\r\n\r\nconst CountiesSideSection = ({\r\n  showCountyBtns,\r\n  storeSections,\r\n  isPlaying,\r\n  setIsPlaying,\r\n  handleSelectDate,\r\n  handleSelectData,\r\n  handleSelectCounty,\r\n}) => {\r\n  return (\r\n    <SectionSide title={storeSections.name} subtitle=\"subtitle\">\r\n      <CountiesSideSectionHeader\r\n        storeSections={storeSections}\r\n        isPlaying={isPlaying}\r\n        setIsPlaying={setIsPlaying}\r\n        handleSelectDate={handleSelectDate}\r\n      />\r\n\r\n      <div className={classes.forBreakPointBetween900And300}>\r\n        <TextBox />\r\n        <AttributeBtns\r\n          availableAttributes={storeSections.avail}\r\n          handleSelectData={handleSelectData}\r\n        />\r\n      </div>\r\n      {showCountyBtns ? (\r\n        <CountyBts\r\n          counties={storeSections.allCounties}\r\n          handleSelectCounty={handleSelectCounty}\r\n        />\r\n      ) : null}\r\n    </SectionSide>\r\n  );\r\n};\r\n\r\nexport default CountiesSideSection;\r\n","import React from 'react';\r\nimport SectionWrap from '../../../UI/Sections/SectionWrap/sectionWrap';\r\nimport SectionMain from '../../../UI/Sections/SectionMain/sectionMain';\r\nimport CountiesSideSection from './countiesSideSection';\r\n\r\nconst CountiesSection = ({\r\n  children,\r\n  storeSections,\r\n  isPlaying,\r\n  setIsPlaying,\r\n  handleSelectDate,\r\n  handleSelectData,\r\n  handleSelectCounty,\r\n  classes,\r\n  showCountyBtns\r\n}) => {\r\n  return (\r\n    <SectionWrap>\r\n      <CountiesSideSection\r\n        showCountyBtns={showCountyBtns} //!\r\n        handleSelectCounty={handleSelectCounty}\r\n        storeSections={storeSections}\r\n        isPlaying={isPlaying}\r\n        setIsPlaying={setIsPlaying}\r\n        handleSelectDate={handleSelectDate}\r\n        classes={classes}\r\n        handleSelectData={handleSelectData}\r\n      />\r\n      <SectionMain>{children}</SectionMain>\r\n    </SectionWrap>\r\n  );\r\n};\r\n\r\nexport default CountiesSection;\r\n","import React from 'react'\r\n\r\nconst XAxisLabel = ({text, yClass, height, margin}) => {\r\n  return (\r\n    <text\r\n    fill=\"var(--white)\" // for dark graph theme\r\n    x={margin.right+10}\r\n    y={height-10}\r\n    style={{fontSize:'1rem', fontWeight: 700 }}\r\n    className={yClass}\r\n  >\r\n    {text}\r\n  </text>\r\n  )\r\n}\r\n\r\nexport default XAxisLabel;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport * as d3 from 'd3';\r\nimport classes from './barChart.module.css';\r\nimport { useStore } from '../../../Store/store';\r\nimport XAxisLabel from '../../../UI/Graphs/xAxisLabel';\r\nimport BoringButton from '../../../UI/Buttons/boringButton';\r\nimport LoadingComp from '../../../UI/loading';\r\nimport ErrorComp from '../../../UI/error';\r\nconst dimensions = {\r\n  margin: {\r\n    left: 70,\r\n    right: 60,\r\n    top: 60,\r\n    bottom: 60,\r\n  },\r\n  width: 1000,\r\n  height: 800\r\n  // height: 550,\r\n};\r\nconst { margin, width, height } = dimensions;\r\nconst boringButtonStyle = (selectLogScale) => {\r\n  return {\r\n    background: `${selectLogScale ? 'var(--lightBlack)' : 'var(--covidGreen)'}`,\r\n    color: `${selectLogScale ? 'var(--covidGreen)' : 'var(--lightBlack)'}`,\r\n    borderRadius: ' 0.4rem',\r\n    border: 'none',\r\n    fontWeight: '800',\r\n    letterSpacing: '0.1rem',\r\n    textTransform: 'uppercase',\r\n    fontSize: '0.6rem',\r\n    padding: '0.5rem 1rem',\r\n    outline: 'none',\r\n    minWidth: '5rem',\r\n    display: 'grid',\r\n    alignSelf: 'center',\r\n    justifySelf: 'center',\r\n    cursor: 'pointer'\r\n  };\r\n};\r\n\r\nconst hoverStyle = (isHovered, hoverPosition) => {\r\n  return {\r\n    opacity: `${isHovered ? '1' : '0'}`,\r\n    position: 'fixed',\r\n    left: `${hoverPosition[0]}px`,\r\n    top: `${hoverPosition[1]}px`,\r\n    background: 'var(--black)',\r\n    color: 'var(--white)',\r\n    padding: '0.5rem 1rem',\r\n    borderRadius: '0.4rem',\r\n    fontSize: '0.6rem',\r\n  };\r\n};\r\nconst BarChart = ({ handleSelectOneCounty, isLoading, isError }) => {\r\n  const storeSections = useStore()[0].sections[0];\r\n\r\n  const attribute = storeSections.selectedAttributeName;\r\n  const selectedData = storeSections.avail.filter((data) => data.selected)[0];\r\n\r\n  const [selectLogScale, setSelectLogScale] = useState(true);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [hoverInfo, setHoverInfo] = useState();\r\n  const [hoverPosition, setHoverPosition] = useState([]);\r\n\r\n  // Refs\r\n  const svgRef = useRef(null);\r\n  const xAxisRef = useRef(null);\r\n  const yAxisRef = useRef(null);\r\n\r\n  const xExtent = d3.extent(\r\n    storeSections.allCountiesLatestData,\r\n    (county) => county[attribute]\r\n  );\r\n  const countyNamesForAxisLabel = storeSections.allCountiesLatestData.map(\r\n    (c) => c.CountyName\r\n  );\r\n  const xAxis = d3.axisBottom();\r\n  const yAxis = d3.axisLeft();\r\n\r\n  const yScale = d3\r\n    .scaleBand()\r\n    .domain(countyNamesForAxisLabel)\r\n    .range([height - margin.top, margin.bottom]);\r\n\r\n  const getXScale = () => {\r\n    if (selectLogScale) {\r\n      return d3\r\n        .scaleLog()\r\n        .domain([1, Math.max(10000, xExtent[1])])\r\n        .clamp(true)\r\n        .range([margin.left, width - margin.right])\r\n        .nice();\r\n    } else {\r\n      return d3\r\n        .scaleLinear()\r\n        .domain(xExtent)\r\n        .clamp(true)\r\n        .range([margin.left, width - margin.right]);\r\n    }\r\n  };\r\n  const xScale = getXScale();\r\n\r\n  const toggleLogScale = () => {\r\n    const currentLog = selectLogScale;\r\n    setSelectLogScale(!currentLog);\r\n  };\r\n\r\n  const doAxis = useCallback(() => {\r\n    const xRef = d3.select(xAxisRef.current);\r\n    const yRef = d3.select(yAxisRef.current);\r\n\r\n    const xTickWidth = -Math.abs(height - margin.top - margin.bottom);\r\n    xAxis.scale(xScale).ticks(10, ',.1s');\r\n    yAxis.scale(yScale);\r\n    xRef.call(xAxis.tickSize(xTickWidth));\r\n    yRef.call(yAxis);\r\n  }, [yScale, xScale, xAxis, yAxis]);\r\n\r\n  useEffect(() => {\r\n    doAxis();\r\n  }, [doAxis]);\r\n\r\n  const handleHover = (e, info) => {\r\n    setHoverInfo(info);\r\n\r\n    const xP = e.clientX + 20;\r\n    const yP = e.clientY - 10;\r\n    setHoverPosition([xP, yP]);\r\n    setIsHovered(true);\r\n  };\r\n  const handleHoverLeave = () => {\r\n    setIsHovered(false);\r\n  };\r\n  const localHandleSelectCounty = (county) => {\r\n    handleSelectOneCounty(county);\r\n  };\r\n\r\n  const renderRectangles = () => {\r\n    return storeSections.allCountiesLatestData.map((c) => {\r\n      const numCounties = 26;\r\n      const barHeight = (height - margin.top - margin.bottom) / numCounties;\r\n      const y = yScale(c.CountyName);\r\n      const length = xScale(c[attribute]) - margin.left;\r\n\r\n      return (\r\n        <g key={c.CountyName}>\r\n          <rect\r\n            onClick={() => localHandleSelectCounty(c.CountyName)}\r\n            className={classes.barChartRect}\r\n            onMouseEnter={(e) => handleHover(e, c[attribute])}\r\n            onMouseLeave={(e) => handleHoverLeave(e)}\r\n            width={length}\r\n            height={barHeight}\r\n            strokeWidth=\"1\"\r\n            stroke={\r\n              c.CountyName === storeSections.allStatsAboutSelectedCounty.name\r\n                ? selectedData.color\r\n                : 'var(--white)'\r\n            }\r\n            fill={\r\n              c.CountyName === storeSections.allStatsAboutSelectedCounty.name\r\n                ? 'var(--white)'\r\n                : selectedData.color\r\n            }\r\n            opacity={`${\r\n              c.CountyName === storeSections.allStatsAboutSelectedCounty.name\r\n                ? 1\r\n                : 0.75\r\n            }`}\r\n            x={margin.left}\r\n            y={y}\r\n          ></rect>\r\n        </g>\r\n      );\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <BoringButton\r\n        onClick={toggleLogScale}\r\n        overRideStyle={boringButtonStyle()}\r\n      >\r\n        {selectLogScale ? 'Use Linear Scale' : 'Use Log Scale'}\r\n      </BoringButton>\r\n\r\n      {isHovered && hoverPosition.length ? (\r\n        <div style={hoverStyle(isHovered, hoverPosition)}>\r\n          {selectedData.name}: {hoverInfo}\r\n        </div>\r\n      ) : null}\r\n\r\n      {isError ? (\r\n        <ErrorComp msg=\"Could not load data for graph.\" />\r\n      ) : isLoading ? (\r\n        <LoadingComp />\r\n      ) : (\r\n        <svg\r\n          className={classes.barChartSvg}\r\n          viewBox={`-20 40 ${width} ${height}`}\r\n          ref={svgRef}\r\n          width={width}\r\n        >\r\n          <g\r\n            ref={xAxisRef}\r\n            transform={`translate(0,${\r\n              dimensions.height - dimensions.margin.top\r\n            })`}\r\n          ></g>\r\n          <g\r\n            ref={yAxisRef}\r\n            transform={`translate(${dimensions.margin.left}, 0)`}\r\n          ></g>\r\n\r\n          {storeSections.allCountiesLatestData &&\r\n          selectedData &&\r\n          storeSections.allCountiesLatestData.length ? (\r\n            <>\r\n              <g>{renderRectangles()}</g>\r\n            </>\r\n          ) : null}\r\n          <XAxisLabel\r\n            width={width}\r\n            text={selectedData ? selectedData.xAxisDescription : ''}\r\n            height={height}\r\n            margin={margin}\r\n          />\r\n        </svg>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BarChart;\r\n","import React, { useState, useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst Line = ({\r\n  graphData,\r\n  handleHover,\r\n  handleHoverLeave,\r\n  handleSelectCounty,\r\n  xScale,\r\n  yScale,\r\n  selectedAttribute,\r\n}) => {\r\n  const [selectedAttr, setSelectedAttr] = useState(selectedAttribute);\r\n\r\n  useEffect(() => {\r\n    setSelectedAttr(selectedAttribute);\r\n  }, [selectedAttribute, graphData]);\r\n\r\n  \r\n  const line = d3\r\n    .line()\r\n    .x((d) => xScale(d['TimeStampDate']))\r\n    .y((d) => {\r\n      return yScale(d[selectedAttr]);\r\n    });\r\n\r\n  const path = line(graphData.stats);\r\n  \r\n  return  (\r\n    <path\r\n      d={path}\r\n      fill=\"none\"\r\n      stroke={graphData.color}\r\n      opacity={graphData.selected ? '1' : '0.4'}\r\n      strokeWidth={graphData.selected ? '4px' : '2px'}\r\n      onMouseOver={(e) => handleHover(e, graphData)}\r\n      onMouseLeave={(e) => handleHoverLeave(e)}\r\n      onClick={(e) => handleSelectCounty(e, graphData.name)}\r\n    ></path>\r\n  ) \r\n};\r\n\r\nexport default Line;\r\n","import React, { useState } from 'react';\r\n\r\n// TODO This is flawed UI-wise. It's because hovering for county <Line> & date is too much. The 'Click Rectangles' are too small... could add them to top of the graph as well. Best solution probably to use same hover date thing as Daily&profile stats and remove the ability to select a county by clicking on the line. \r\nconst ClickRect = ({\r\n  rect,\r\n  date,\r\n  handleHoverDate,\r\n  // handleHoverLeaveDate,\r\n  handleSelectDate,\r\n  selected,\r\n}) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  const localHandleHover = (e, date) => {\r\n    setIsHovered(true);\r\n    handleHoverDate(e, date);\r\n  };\r\n  const localHandleHoverLeave = (e) => {\r\n    setIsHovered(false);\r\n    // handleHoverLeaveDate(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <rect\r\n        onMouseEnter={(e) => localHandleHover(e)}\r\n        onMouseLeave={(e) => localHandleHoverLeave(e)}\r\n        x={rect.xOffset}\r\n        y={\r\n          selected\r\n            ? `${rect.y + (rect.height / 50 - rect.height / 40)}`\r\n            : `${rect.y}`\r\n        }\r\n        width={rect.rectWidth}\r\n        height={selected ? `${rect.height / 40}` : `${rect.height / 50}`}\r\n        stroke={`${isHovered ? 'var(--orange)' : 'var(--white)'}`}\r\n        fill={`${selected ? 'var(--lightBlack)' : 'var(--orange)'}`}\r\n        style={{ transition: 'all 0.005s linear', cursor: 'pointer' }}\r\n        opacity=\"0.8\"\r\n        onClick={() => {\r\n      \r\n          return handleSelectDate(date);\r\n        }}\r\n      />\r\n      <rect\r\n        x={rect.xOffset}\r\n        y={rect.y2}\r\n        width={rect.rectWidth}\r\n        height={selected ? `${rect.y2Height}` : `0`}\r\n        stroke={`${isHovered ? 'var(--purple)' : 'var(--white)'}`}\r\n        opacity=\"0.1\"\r\n        fill={`${selected ? 'var(--white)' : 'var(--lightBlack)'}`}\r\n        style={{ transition: 'all 0.005s linear', cursor: 'pointer' }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ClickRect;\r\n","import React from 'react';\r\nimport ClickRect from './clickRect';\r\n\r\nconst ClickRectangles = ({\r\n  graphData,\r\n  dimensions,\r\n  xScale,\r\n  handleHoverDate,\r\n  // handleHoverLeaveDate,\r\n  handleSelectDate,\r\n  selectedDate, \r\n}) => {\r\n  const { margin, width, height } = dimensions;\r\n\r\n  return graphData.length\r\n    ? graphData.map((date, i) => {\r\n        const graphWidth = width - margin.left - margin.right;\r\n        const rectWidth = graphWidth / graphData.length;\r\n        const x = xScale(date);\r\n        const xOffset = x - rectWidth / 2;\r\n        const rect = {\r\n          x: x,\r\n          y: height - margin.bottom + 1,\r\n          y2: margin.top,\r\n          y2Height: height - margin.bottom - margin.top,\r\n          graphWidth,\r\n          rectWidth,\r\n          height: height - margin.bottom,\r\n          xOffset,\r\n          key: `${graphData.fieldName}-${i}`,\r\n        };\r\n        return x ? (\r\n          <ClickRect\r\n            rect={rect}\r\n            date={date}\r\n            key={i}\r\n            selected={date === selectedDate}\r\n            // handleHoverLeaveDate={handleHoverLeaveDate}\r\n            handleHoverDate={handleHoverDate}\r\n            handleSelectDate={handleSelectDate}\r\n          />\r\n        ) : null;\r\n      })\r\n    : null;\r\n};\r\n\r\nexport default ClickRectangles;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\nimport classes from './lineGraph2.module.css';\r\nimport Axis from '../../../UI/Graphs/axis';\r\nimport YAxisLabel from '../../../UI/Graphs/yAxisLabel';\r\nimport Line from './line';\r\nimport { useStore } from '../../../Store/store';\r\nimport ClickRectangles from '../ClickRectangles/clickRectangles';\r\nimport ErrorComp from '../../../UI/error';\r\n// import TinyToolTip from '../../../UI/Tooltips/tinyTooltip';\r\nimport TinyToolTip from '../../../UI/ToolTips/tinyToolTip';\r\n\r\nconst dimensions = {\r\n  margin: {\r\n    left: 70,\r\n    right: 60,\r\n    top: 60,\r\n    bottom: 60,\r\n  },\r\n  width: 1000,\r\n  height: 600,\r\n};\r\nconst { margin, width, height } = dimensions;\r\n\r\nconst LineGraph = ({ handleSelectCounty, handleSelectDate, isError }) => {\r\n  const storeSections = useStore()[0].sections[0];\r\n  const selectedData = storeSections.avail.filter((data) => data.selected)[0];\r\n  const svgRef = useRef(null);\r\n\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [hoverInfo, setHoverInfo] = useState();\r\n  const [hoverColor, setHoverColor] = useState();\r\n  const [hoverPosition, setHoverPosition] = useState([]);\r\n  const [selectedAttribute, setSelectedAttribute] = useState('');\r\n  const [hoverInfoDate, setHoverInfoDate] = useState('');\r\n  const [useForXExtent, setUseForXExtent] = useState([]);\r\n  useEffect(() => {\r\n    const findSelectedAttribute = () => {\r\n      const selected = storeSections.avail.filter((d) => d.selected)[0];\r\n      return selected;\r\n    };\r\n    const newSelected = findSelectedAttribute();\r\n    setSelectedAttribute(newSelected.fieldName);\r\n  }, [storeSections.avail]);\r\n\r\n  useEffect(() => {\r\n    if (storeSections.allCounties.length) {\r\n      setUseForXExtent(storeSections.allCounties[0].stats);\r\n    }\r\n  }, [storeSections.allCounties]);\r\n\r\n  const xExtent = d3.extent(useForXExtent, (d) => d.TimeStampDate);\r\n  const xScale = d3\r\n    .scaleTime()\r\n    .domain([xExtent[0], xExtent[1]])\r\n    .range([margin.left, width - margin.right]);\r\n  const yScale = d3\r\n    .scaleLog()\r\n    .domain([1, 10000000])\r\n    .clamp(true)\r\n    .range([height - margin.top, margin.bottom])\r\n    .nice();\r\n  const colorScale = d3\r\n    .scaleSequential()\r\n    .domain([0, 100])\r\n    .interpolator(d3.interpolateRainbow);\r\n\r\n  const handleHover = (e, info) => {\r\n    const county = info.name;\r\n    // e.target.attributes['stroke-width'].value = '0.5rem';\r\n    setHoverInfo(county);\r\n    setHoverColor(info.color);\r\n    const xP = e.clientX + 20;\r\n    const yP = e.clientY - 10;\r\n    setHoverPosition([xP, yP]);\r\n    setIsHovered(true);\r\n  };\r\n\r\n  const handleHoverLeave = (e) => {\r\n    setIsHovered(false);\r\n  };\r\n\r\n  const handleHoverDate = (e, date) => {\r\n    setHoverInfoDate(new Date(date).toString().substring(0, 10));\r\n    setHoverColor('var(--lightBlack)');\r\n    const xP = e.clientX + 20;\r\n    const yP = e.clientY - 10;\r\n    setHoverPosition([xP, yP]);\r\n  };\r\n\r\n  // TODO ?\r\n  const handleHoverLeaveDate = () => {};\r\n\r\n  return (\r\n    <>\r\n      {isHovered && hoverPosition.length ? (\r\n        <TinyToolTip hoverPosition={hoverPosition} hoverColor={hoverColor}>\r\n          {hoverInfo || hoverInfoDate}\r\n        </TinyToolTip>\r\n      ) : null}\r\n      {isError ? (\r\n        <ErrorComp msg=\"Could not load data for graph.\" />\r\n      ) : (\r\n        <svg\r\n          ref={svgRef}\r\n          className={classes.lineSvg}\r\n          viewBox={`0 40 ${width - 50} ${height}`}\r\n          width={width}\r\n          style={{ maxWidth: '100%' }}\r\n        >\r\n          <Axis\r\n            dimensions={dimensions}\r\n            xScale={xScale}\r\n            yScale={yScale}\r\n            yTransformOffset={10}\r\n          />\r\n          <YAxisLabel\r\n            text={selectedData ? selectedData.xAxisDescription : ''}\r\n            height={height}\r\n            margin={margin}\r\n          />\r\n          {storeSections && storeSections.allCountiesLatestData.length ? (\r\n            <ClickRectangles\r\n              graphData={storeSections.allCounties[0].stats.map(\r\n                (county) => county.TimeStampDate\r\n              )}\r\n              dimensions={dimensions}\r\n              xScale={xScale}\r\n              handleHoverLeaveDate={handleHoverLeaveDate}\r\n              handleHoverDate={handleHoverDate}\r\n              handleSelectDate={handleSelectDate}\r\n              selectedDate={storeSections.selectedDate}\r\n            />\r\n          ) : null}\r\n          {storeSections && storeSections.allCounties.length\r\n            ? storeSections.allCounties.map((graphData, i) => (\r\n                <Line\r\n                  graphData={graphData}\r\n                  i={i}\r\n                  key={i}\r\n                  handleHover={handleHover}\r\n                  handleHoverLeave={handleHoverLeave}\r\n                  xScale={xScale}\r\n                  yScale={yScale}\r\n                  colorScale={colorScale}\r\n                  selectedAttribute={selectedAttribute}\r\n                  handleSelectCounty={handleSelectCounty}\r\n                />\r\n              ))\r\n            : null}\r\n        </svg>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LineGraph;\r\n","import React from 'react';\r\nimport classes from './countyTile.module.css';\r\n\r\nconst CountyTile = ({\r\n  tree,\r\n  rect,\r\n  handleSelectOneCounty,\r\n  showProvinces,\r\n  i,\r\n  arr,\r\n  attribute,\r\n}) => {\r\n  return (\r\n    <g\r\n      key={tree.data.CountyName}\r\n      style={{ cursor: 'pointer' }}\r\n      onClick={() => handleSelectOneCounty(tree.data.CountyName)}\r\n    >\r\n      {/* white background - otherwise low numbers are darker than high (not intuitive) */}\r\n      <rect\r\n        stroke={rect.stroke}\r\n        strokeWidth=\"0.1rem\"\r\n        fill=\"var(--white)\"\r\n        x={rect.x}\r\n        y={rect.y}\r\n        width={rect.width}\r\n        height={rect.height}\r\n        opacity=\"1\"\r\n      />\r\n      <rect\r\n        className={classes.countyTileRect}\r\n        stroke={rect.stroke}\r\n        strokeWidth=\"0.1rem\"\r\n        fill={rect.isSelected ? 'var(--white)' : rect.fill}\r\n        x={rect.x}\r\n        y={rect.y}\r\n        width={rect.width}\r\n        height={rect.height}\r\n        opacity={rect.opacity}\r\n      />\r\n      {/* Add Province names */}\r\n      {showProvinces &&\r\n      (i === 0 || tree.parent.data.name !== arr[i - 1].parent.data.name) ? (\r\n        <text\r\n          className={classes.provinceText}\r\n          x={rect.x}\r\n          y={rect.y - 4}\r\n          fill=\"var(--yellow)\"\r\n        >\r\n          {tree.parent.data.name\r\n            ? tree.parent.data.name.charAt(0).toUpperCase() +\r\n              tree.parent.data.name.slice(1)\r\n            : ''}\r\n        </text>\r\n      ) : null}\r\n\r\n      {/* If rect is ~wide enough show county name, otherwise show county reg */}\r\n      {rect.width > 100 ? (\r\n        <>\r\n          <text\r\n           className={classes.countyText}\r\n            x={rect.x + 4}\r\n            y={rect.y + 16}\r\n            height=\"20\"\r\n            fontSize=\"1rem\"\r\n            fill={rect.isSelected ? 'var(--lightBlack)' : 'var(--white)'}\r\n          >\r\n            {tree.data.CountyName}{' '}\r\n          </text>\r\n          {/*  Only if rect is ~tall enough show number */}\r\n          {rect.height > 30 ? (\r\n            <text\r\n              className={classes.numText}\r\n              x={rect.x + 4}\r\n              y={rect.y + 34}\r\n              height=\"20\"\r\n              fontSize=\"0.9rem\"\r\n              fill={rect.isSelected ? `${rect.fill}` : 'var(--white)'}\r\n            >  \r\n              ({Math.round(tree.data[attribute]).toLocaleString()})\r\n            </text>\r\n          ) : null}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <text\r\n            className={classes.countyText}\r\n            x={rect.x + 4}\r\n            y={rect.y + 16}\r\n            height=\"20\"\r\n            fontSize={rect.width < 30 ? '1rem' : '1rem'}\r\n            fill={rect.isSelected ? 'var(--lightBlack)' : 'var(--white)'}\r\n          >\r\n            {tree.data.reg}{' '}\r\n          </text>\r\n          {rect.height > 30 ? (\r\n            <text\r\n              className={classes.numText}\r\n              x={rect.x + 4}\r\n              y={rect.y + 34}\r\n              height=\"20\"\r\n              fontSize=\"1rem\"\r\n              fill={rect.isSelected ? `${rect.fill}` : 'var(--white)'}\r\n            >\r\n              ({Math.round(tree.data[attribute]).toLocaleString()})\r\n            </text>\r\n          ) : null}\r\n        </>\r\n      )}\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default CountyTile;\r\n","import React from 'react';\r\nimport * as d3 from 'd3';\r\nimport CountyTile from './countyTile';\r\nimport { COUNTIES } from '../../../constants';\r\n\r\nconst { PROVINCES } = COUNTIES;\r\nconst dimensions = {\r\n  margin: {\r\n    left: 70,\r\n    right: 60,\r\n    top: 60,\r\n    bottom: 60,\r\n  },\r\n  width: 1000,\r\n  height: 600,\r\n};\r\nconst { width, height } = dimensions;\r\n\r\n// TODO - leaving this here for now\r\nconst divideIntoProvences = (countyData, attribute) => {\r\n  const ans = PROVINCES.map((prov, i) => {\r\n    const names = prov.counties.map((c) => c.name);\r\n\r\n    prov.children = countyData.filter((c) => {\r\n      if (names.includes(c.CountyName)) {\r\n        // Also add in the reg numbers, this probably shouldn't be happening inside a filter btw\r\n        c.reg = prov.counties.find((co) => co.name === c.CountyName).reg;\r\n        c.province = prov.name;\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n    return prov;\r\n  });\r\n\r\n  return ans;\r\n  // return ans;\r\n};\r\n\r\nconst withoutProvinces = (graphData) => {\r\n  return { children: graphData };\r\n};\r\n\r\n// const getOpacity = (extent) => d3.scaleLinear().domain(extent).range([0.2, 1]);\r\n// const getOpacity = (extent) => d3.scaleQuantize().domain(extent).range([0.6,0.7,0.8,0.9, 1]);\r\nconst getOpacity = (graphData, attribute) =>\r\n  d3\r\n    .scaleQuantile()\r\n    .domain(graphData.map((d) => d[attribute]))\r\n    .range([0.5,0.6, 0.7, 0.8]);\r\n\r\nconst CountyTiles = ({\r\n  graphData,\r\n  attribute,\r\n  showProvinces,\r\n  handleSelectOneCounty,\r\n  selectedAttributeColor,\r\n  selectedCountyName,\r\n}) => {\r\n\r\n  // TODO, this should happen automatically in store maybe? Definitely too much sorting going on here.\r\n  const sortedGraphData = graphData.sort((a, b) => a[attribute] - b[attribute]);\r\n\r\n  // Only calling divideIntoProvince() when actually needed causes reg to be missing first time. TODO add reg somewhere more sensible and don't call this until showProvinces is true.\r\n  const withProvinces = { children: divideIntoProvences(graphData, attribute) };\r\n\r\n  const dataWithOrWithoutProvinces = showProvinces\r\n    ? withProvinces\r\n    : withoutProvinces(sortedGraphData);\r\n\r\n  const opacity = getOpacity(graphData, attribute);\r\n  const root = d3\r\n    .hierarchy(dataWithOrWithoutProvinces)\r\n    .sum((d) => d[attribute]);\r\n\r\n  d3\r\n    .treemap()\r\n    .size([width, height])\r\n    .padding(2)\r\n    .paddingTop(15)\r\n    .paddingLeft(10)\r\n    .paddingRight(10)\r\n    .paddingBottom(10)(root);\r\n\r\n  return root.leaves().map((tree, i, arr) => {\r\n    const rect = {\r\n      isSelected:\r\n      tree.data.CountyName === selectedCountyName ? true : false,\r\n      x: tree.x0,\r\n      y: tree.y0,\r\n      width: tree.x1 - tree.x0,\r\n      height: tree.y1 - tree.y0,\r\n      fill: selectedAttributeColor,\r\n      stroke:\r\n        tree.data.CountyName === selectedCountyName ? 'var(--white)' : 'none',\r\n      opacity: opacity(tree.data[attribute]),\r\n    };\r\n\r\n    return (\r\n      <CountyTile \r\n        key={i}\r\n        tree={tree}\r\n        rect={rect}\r\n        handleSelectOneCounty={handleSelectOneCounty}\r\n        showProvinces={showProvinces}\r\n        i={i}\r\n        arr={arr}\r\n        attribute={attribute}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default CountyTiles;\r\n","import React, { useRef, useMemo } from 'react';\r\nimport { useStore } from '../../../Store/store';\r\nimport CountyTiles from './countyTiles';\r\nimport BoringButton from '../../../UI/Buttons/boringButton';\r\nimport ErrorComp from '../../../UI/error';\r\n\r\nconst dimensions = {\r\n  margin: {\r\n    left: 70,\r\n    right: 60,\r\n    top: 60,\r\n    bottom: 60,\r\n  },\r\n  width: 1000,\r\n  height: 600,\r\n};\r\nconst { width, height } = dimensions;\r\n\r\nconst TreeGraph = ({\r\n  showProvinces,\r\n  handleSelectOneCounty,\r\n  setShowProvinces,\r\n  isLoading,\r\n  isError\r\n}) => {\r\n  const storeSections = useStore()[0].sections[0];\r\n  const attribute = storeSections.selectedAttributeName;\r\n\r\n  // get colour corresponding to selected attribute (need it for countyTile colour)\r\n  const selectedAttributeColor = useMemo(() => {\r\n    return storeSections.avail.filter((data) => data.selected)[0].color;\r\n  }, [storeSections.avail]);\r\n\r\n  const svgRef = useRef();\r\n\r\n  return (\r\n    <>\r\n      <BoringButton\r\n        onClick={() => setShowProvinces(!showProvinces)}\r\n        overRideStyle={{\r\n          background: `${showProvinces ? 'var(--lightBlack)' : 'var(--covidGreen)'}`,\r\n          color: `${showProvinces ? 'var(--covidGreen)' : 'var(--lightBlack)'}`,\r\n          borderRadius: ' 0.4rem',\r\n          border: 'none',\r\n          fontWeight: '800',\r\n          letterSpacing: '0.1rem',\r\n          textTransform: 'uppercase',\r\n          fontSize: '0.6rem',\r\n          padding: '0.5rem 1rem',\r\n          outline: 'none',\r\n          minWidth: '5rem',\r\n          display: 'grid',\r\n          alignSelf: 'center',\r\n          justifySelf: 'center',\r\n          cursor: 'pointer'\r\n        }}\r\n      >\r\n        {showProvinces ? 'Hide Provinces' : 'Show  Provinces'}\r\n      </BoringButton>\r\n      {isError ? <ErrorComp msg='Could not load data for graph.' /> : (\r\n              <svg\r\n              style={{ maxWidth: '100%' }}\r\n              viewBox={`0 0 ${width} ${height}`}\r\n              ref={svgRef}\r\n              width={width}\r\n            >\r\n              <CountyTiles\r\n                graphData={storeSections.allCountiesLatestData}\r\n                attribute={attribute}\r\n                showProvinces={showProvinces}\r\n                handleSelectOneCounty={handleSelectOneCounty}\r\n                selectedAttributeColor={selectedAttributeColor}\r\n                selectedCountyName={storeSections.allStatsAboutSelectedCounty.name}\r\n              />\r\n            </svg>\r\n      )}\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TreeGraph;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useStore } from '../../Store/store';\r\nimport axios from 'axios';\r\nimport configureStore from './counties-store';\r\nimport { sharedUtil as util } from '../../util-functions';\r\nimport { COUNTIES } from '../../constants.js';\r\n\r\nimport Layout from '../layout';\r\nimport SelectGraphBtnGroup from '../../UI/Buttons/SelectGraphBtnGroup/selectGraphBtnGroup';\r\nimport CountiesSection from './Sections/countiesSection';\r\nimport BarChart from './BarChart/barChart';\r\nimport LineGraph from './LineGraph/lineGraph';\r\nimport TreeGraph from './TreeGraph/treeGraph';\r\nimport SectionWrapper from '../../UI/Sections/SectionWrapper/sectionWrapper';\r\nconfigureStore();\r\n\r\nconst {\r\n  ONE_DAY,\r\n  uriLatestAllCounties,\r\n  allCountiesAllResultsConfirmedCasesMoreThanZero,\r\n} = COUNTIES;\r\n\r\nconst Counties = () => {\r\n  const dispatch = useStore()[1];\r\n  const storeSections = useStore()[0].sections[0];\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [showProvinces, setShowProvinces] = useState(false);\r\n\r\n  const [selectedSection, setSelectedSection] = useState('bar');\r\n\r\n  const getSelected = (name) => (name === selectedSection ? true : false);\r\n\r\n  // SelectGraphBtnGroup wants data in this format\r\n  const availGraphs = [\r\n    { name: 'bar', sectionName: 'Bar Graph', selected: getSelected('bar') },\r\n    { name: 'tree', sectionName: 'Tree Graph', selected: getSelected('tree') },\r\n    { name: 'line', sectionName: 'Line Graph', selected: getSelected('line') },\r\n  ];\r\n  // Latest - all counties\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setIsError(false);\r\n        const response = await axios.get(uriLatestAllCounties);\r\n        dispatch('INIT_ALL_COUNTIES_LATEST_DATA', response.data.features);\r\n        setIsLoading(false);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        setIsError(false);\r\n        const response = await axios.get(\r\n          allCountiesAllResultsConfirmedCasesMoreThanZero\r\n        );\r\n        dispatch('INIT_COUNTY_DATA', response.data.features);\r\n        setIsLoading(false);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleSelectOneCounty = (county) => {\r\n    dispatch('SELECT_COUNTY', county);\r\n  };\r\n\r\n  const handleSelectData = (e) => {\r\n    const fieldName = e.target.name;\r\n    dispatch('SELECT_ATTRIBUTE', fieldName);\r\n  };\r\n\r\n  // click on county line/tinyBtn to show details in textbox\r\n  const handleSelectCounty = (e, county) => {\r\n    const name = county || e.target.id;\r\n    dispatch('SELECT_COUNTY', name);\r\n  };\r\n\r\n  // click on ClickRectangle\r\n  const handleSelectDate = (date) => {\r\n    dispatch('SELECT_DATE', date);\r\n    dispatch('UPDATE_ALL_COUNTIES_LATEST_DATA', date);\r\n  };\r\n\r\n  const renderGraph = () => {\r\n    switch (selectedSection) {\r\n      case 'bar':\r\n        return (\r\n          <BarChart\r\n            handleSelectOneCounty={handleSelectOneCounty}\r\n            handleSelectDate={handleSelectDate}\r\n            isLoading={isLoading}\r\n            isError={isError}\r\n          />\r\n        );\r\n      case 'tree':\r\n        return (\r\n          <TreeGraph\r\n            handleSelectOneCounty={handleSelectOneCounty}\r\n            handleSelectDate={handleSelectDate}\r\n            isLoading={isLoading}\r\n            isError={isError}\r\n            showProvinces={showProvinces}\r\n            setShowProvinces={setShowProvinces}\r\n          />\r\n        );\r\n      case 'line':\r\n        return (\r\n          <LineGraph\r\n            handleSelectCounty={handleSelectCounty}\r\n            handleSelectDate={handleSelectDate}\r\n            isError={isError}\r\n            isLoading={isLoading}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TreeGraph\r\n            handleSelectOneCounty={handleSelectOneCounty}\r\n            handleSelectDate={handleSelectDate}\r\n            isLoading={isLoading}\r\n            showProvinces={showProvinces}\r\n            setShowProvinces={setShowProvinces}\r\n            isError={isError}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  const renderGraphSection = () => {\r\n    return (\r\n      <CountiesSection\r\n        storeSections={storeSections}\r\n        handleSelectCounty={handleSelectCounty}\r\n        isPlaying={isPlaying}\r\n        setIsPlaying={setIsPlaying}\r\n        handleSelectDate={handleSelectDate}\r\n        handleSelectData={handleSelectData}\r\n        handleSelectOneCounty={handleSelectOneCounty}\r\n        isLoading={isLoading}\r\n        isError={isError}\r\n        showCountyBtns={selectedSection === 'line' ? true : false}\r\n      >\r\n        {renderGraph()}\r\n      </CountiesSection>\r\n    );\r\n  };\r\n\r\n  const incrementSelectedDate = useCallback(() => {\r\n    let useDate = storeSections.selectedDate + ONE_DAY;\r\n    const latestPossibleDate = util.getLatestDate(storeSections.allCounties[0]);\r\n    if (storeSections.selectedDate < latestPossibleDate) {\r\n      dispatch('SELECT_DATE', useDate);\r\n      dispatch('UPDATE_ALL_COUNTIES_LATEST_DATA', useDate);\r\n      return true;\r\n    } else {\r\n      setIsPlaying();\r\n      return false;\r\n    }\r\n  }, [\r\n    dispatch,\r\n    setIsPlaying,\r\n    storeSections.selectedDate,\r\n    storeSections.allCounties,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isPlaying) {\r\n      interval = setInterval(() => {\r\n        return incrementSelectedDate();\r\n      }, 400);\r\n      if (!interval) clearInterval(interval);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isPlaying, incrementSelectedDate]);\r\n\r\n  return (\r\n    <Layout>\r\n        <SectionWrapper>\r\n        {/* {isError ? <ErrorComp msg=\"Could not load data.\" /> : null} */}\r\n          <SelectGraphBtnGroup\r\n            data={availGraphs}\r\n            handleSelectGraph={setSelectedSection}\r\n          />\r\n            \r\n          {renderGraphSection()}\r\n        </SectionWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Counties;\r\n","import React from 'react';\r\n\r\nconst ContactForm = ({ formData, classes, handleSubmit, handleChange, showErrorText }) => {\r\n  const renderSpan = (name) => {\r\n    if (showErrorText && !formData[name].valid) {\r\n      return (\r\n        <span\r\n          className={\r\n            !formData[name].valid\r\n              ? `${classes.formError} ${classes.show}`\r\n              : classes.formError\r\n          }\r\n        >\r\n          Enter {`${name}`}\r\n        </span>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      // method=\"post\"\r\n      // name=\"contact-stats\"\r\n      // id=\"contact-stats\"\r\n      className={classes.form}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className={classes.gridTwo}>\r\n        <div className={classes.inputSection}>\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            style={{\r\n              border: `${\r\n                !formData.name.valid\r\n                  ? '0.2rem solid var(--covidPink)'\r\n                  : '0.2rem solid var(--covidGreen)'\r\n              }`,\r\n            }}\r\n            onChange={(e) => handleChange(e, 'name')}\r\n            value={formData.name.value}\r\n            name=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n          />\r\n          {renderSpan('name')}\r\n        </div>\r\n        <div className={classes.inputSection}>\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            style={{\r\n              border: `${\r\n                !formData.email.valid\r\n                  ? '0.2rem solid var(--covidPink)'\r\n                  : '0.2rem solid var(--covidGreen)'\r\n              }`,\r\n            }}\r\n            type=\"email\"\r\n            onChange={(e) => handleChange(e, 'email')}\r\n            name=\"email\"\r\n            value={formData.email.value}\r\n            placeholder=\"Email\"\r\n          />\r\n          {renderSpan('email')}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.inputSection}>\r\n        <label htmlFor=\"msg\">Message</label>\r\n        <textarea\r\n          style={{\r\n            border: `${\r\n              !formData.msg.valid\r\n                ? '0.2rem solid var(--covidPink)'\r\n                : '0.2rem solid var(--covidGreen)'\r\n            }`,\r\n          }}\r\n          onChange={(e) => handleChange(e, 'msg')}\r\n          name=\"msg\"\r\n          value={formData.msg.value}\r\n          placeholder=\"...\"\r\n        ></textarea>\r\n        {renderSpan('msg')}\r\n      </div>\r\n\r\n      <div className={classes.inputSection}>\r\n        <button className={classes.formBtn}>Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n","import React, { useState } from 'react';\r\nimport Layout from '../layout';\r\nimport classes from './contact.module.css';\r\nimport ContactForm from './contactForm';\r\nimport  {contactUtil} from '../../util-functions';\r\nconst { encode, validate } = contactUtil;\r\n\r\nconst Contact = () => {\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [failed, setFailed] = useState(false);\r\n  const [showErrorText, setShowErrorText] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: {\r\n      fieldName: 'name',\r\n      value: '',\r\n      type: 'text',\r\n      placeholder: 'name',\r\n      valid: false,\r\n      rules: {\r\n        required: true,\r\n        min: 2,\r\n        max: 50,\r\n      },\r\n    },\r\n    email: {\r\n      fieldName: 'email',\r\n      value: '',\r\n      type: 'email',\r\n      placeholder: 'email',\r\n      valid: false,\r\n      rules: {\r\n        required: true,\r\n        min: 6,\r\n        max: 50,\r\n        isProbablyEmail: true,\r\n      },\r\n    },\r\n    msg: {\r\n      fieldName: 'msg',\r\n      value: '',\r\n      type: 'textarea',\r\n      placeholder: '...',\r\n      valid: false,\r\n      rules: {\r\n        required: true,\r\n        min: 2,\r\n        max: 10000,\r\n      },\r\n    },\r\n  });\r\n  const [formIsValid, setFormIsValid] = useState(false);\r\n\r\n  const clearForm = () => {\r\n    const copy = { ...formData };\r\n\r\n    for (let i in copy) {\r\n      copy[i].value = '';\r\n      copy[i].valid = false;\r\n    }\r\n    setFormData(copy);\r\n  };\r\n  const handleChange = (e, id) => {\r\n    setShowErrorText(false);\r\n    const copy = { ...formData };\r\n    const relevantField = { ...copy[id] };\r\n    relevantField.value = e.target.value;\r\n    relevantField.valid = validate(relevantField.value, relevantField.rules);\r\n    copy[id] = relevantField;\r\n\r\n    let formValid = true;\r\n    for (let i in copy) {\r\n      formValid = copy[i].valid && formValid;\r\n    }\r\n    setFormIsValid(formValid);\r\n    setFormData(copy);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!formIsValid) {\r\n      setShowErrorText(true);\r\n      return;\r\n    }\r\n    setSubmitted(false);\r\n    setFailed(false);\r\n    const data = {};\r\n    for (let key in formData) {\r\n      data[key] = formData[key].value;\r\n    }\r\n   \r\n    fetch('/', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: encode({ 'form-name': 'contact-stats', ...data }),\r\n    })\r\n      .then(() => {\r\n        setSubmitted(true);\r\n        clearForm();\r\n      })\r\n      .catch((error) => {\r\n        // console.log('Error: ', error);\r\n        setFailed(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <section className={classes.section}>\r\n        <ContactForm\r\n          formData={formData}\r\n          classes={classes}\r\n          showErrorText={showErrorText}\r\n          handleSubmit={handleSubmit}\r\n          handleChange={handleChange}\r\n        />\r\n\r\n        {submitted ? <p className={classes.formSuccess}>Thank You!</p> : null}\r\n        {failed ? (\r\n          <p className={classes.formFail}>Something went wrong.</p>\r\n        ) : null}\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React from 'react';\r\nimport ErrorComp from '../../UI/error';\r\nimport LoadingComp from '../../UI/loading';\r\nimport SectionWrap from '../../UI/Sections/SectionWrap/sectionWrap';\r\n\r\nimport SectionMain from '../../UI/Sections/SectionMain/sectionMain';\r\nimport SectionSide from '../../UI/Sections/SectionSide/sectionSide';\r\nimport SectionHeader from '../../UI/Sections/SectionHeader/sectionHeader';\r\nimport LineGraphDaily from '../DailyGraphs/LineGraphDaily/lineGraphDaily';\r\n\r\nimport AttributeBtns from '../../UI/Buttons/AttributeBtns/attributeBtns';\r\nimport AltTextBox from '../../UI/AltTextBox/altTextBox';\r\nconst AltStatsGraphs = ({graphs, classes, isError, isLoading, selectedGraphName, prepArrayToShowInTextBox, handleSelectData, handleTextBox}) => {\r\n\r\n  return(\r\n    graphs.map((graph, i) => {\r\n\r\n      return graph.name === selectedGraphName() ? (\r\n        <SectionWrap key={i}>\r\n          <SectionSide>\r\n            {isError ? (\r\n              <ErrorComp msg=\"Could not load data.\" />\r\n            ) : (\r\n              <>\r\n                <SectionHeader\r\n                  title={graph.sectionName}\r\n                  subtitle=\"\"\r\n                  description={graph.description}\r\n                />\r\n\r\n                <div className={classes.forBreakPointBetween900And300}>\r\n                  {!isLoading ? (\r\n                    <AltTextBox\r\n                      arrayToShowInTextBox={prepArrayToShowInTextBox(graph)}\r\n                      selectedDate={graph.selectedDate}\r\n                      numAvailableAttrs={graph.avail.length}\r\n                    />\r\n                  ) : (\r\n                    <LoadingComp />\r\n                  )}\r\n\r\n                  <AttributeBtns\r\n                    availableAttributes={graph.avail}\r\n                    graphIndex={graph.id}\r\n                    handleSelectData={handleSelectData}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </SectionSide>\r\n          <SectionMain>\r\n            {!isLoading && graph ? (\r\n              <LineGraphDaily\r\n                graphId={graph.id}\r\n                storeName=\"profileStatsStore\"\r\n                handleTextBox={handleTextBox}\r\n              />\r\n            ) : (\r\n              <LoadingComp />\r\n            )}\r\n          </SectionMain>\r\n        </SectionWrap>\r\n      ) : null;\r\n    })\r\n  )\r\n}\r\n\r\nexport default AltStatsGraphs;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport classes from './altStats.module.css';\r\n\r\nimport axios from 'axios';\r\nimport configureDailyGraphsStore from '../DailyAndProfileData/dailyGraphs-store'; //?\r\nimport { sharedUtil } from '../../util-functions';\r\nimport { ALT_STATS } from '../../constants';\r\nimport { useStore } from '../../Store/store';\r\n\r\nimport Layout from '../layout';\r\nimport SectionWrapper from '../../UI/Sections/SectionWrapper/sectionWrapper';\r\nimport SelectGraphBtnGroup from '../../UI/Buttons/SelectGraphBtnGroup/selectGraphBtnGroup';\r\nimport AltStatsGraphs from './altStatsGraphs';\r\n\r\nconfigureDailyGraphsStore();\r\n\r\nconst { profileStatsUrl } = ALT_STATS;\r\nconst { prepArrayToShowInTextBox } = sharedUtil;\r\n\r\nconst AltStats = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  const dispatch = useStore()[1];\r\n  const { graphs, description } = useStore()[0].profileStatsStore;\r\n\r\n  const initAvailableGraphs = () => {\r\n    return graphs.map((s, i) => {\r\n      return {\r\n        name: s.name,\r\n        sectionName: s.sectionName,\r\n        description: s.description,\r\n        selected: i === 0 ? true : false,\r\n      };\r\n    });\r\n  };\r\n\r\n  const [allAvailableGraphs, setAllAvailableGraphs] = useState(\r\n    initAvailableGraphs()\r\n  );\r\n\r\n  const handleSelectGraph = (name) => {\r\n    const newAvailGraphs = allAvailableGraphs.map((graph) => {\r\n      return {\r\n        ...graph,\r\n        selected: graph.name === name ? true : false,\r\n      };\r\n    });\r\n    setAllAvailableGraphs(newAvailGraphs);\r\n  };\r\n\r\n  const selectedGraphName = () =>\r\n    allAvailableGraphs.filter((graph) => graph.selected)[0].name;\r\n\r\n  const getProfileStats = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(profileStatsUrl);\r\n      return response.data.features;\r\n    } catch (e) {\r\n      setIsLoading(false);\r\n      setIsError(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIsLoading(true);\r\n      setIsError(false);\r\n      try {\r\n        const data = await getProfileStats();\r\n\r\n        dispatch('SET_ALL_PROFILE_STATS', data);\r\n        dispatch('SET_DAILY_STORE_DATE_AND_DATA', {\r\n          latestDate: false,\r\n          storeName: 'profileStatsStore',\r\n        });\r\n        setIsLoading(false);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n      }\r\n    })();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleTextBox = (data, dateFieldName) => {\r\n    if (!data || !dateFieldName) return;\r\n    const dateToSelect = data[dateFieldName];\r\n    dispatch('SET_DAILY_STORE_DATE_AND_DATA', {\r\n      latestDate: dateToSelect,\r\n      storeName: 'profileStatsStore',\r\n    });\r\n  };\r\n\r\n  const handleSelectData = (e, graphId) => {\r\n    const fieldName = e.target.name;\r\n\r\n    dispatch('SELECT_DAILY_GRAPHS_ATTRS', {\r\n      fieldName,\r\n      graphId,\r\n      storeName: 'profileStatsStore',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <SectionWrapper>\r\n        <SelectGraphBtnGroup\r\n          data={allAvailableGraphs}\r\n          handleSelectGraph={handleSelectGraph}\r\n        />\r\n        <AltStatsGraphs\r\n          graphs={graphs}\r\n          classes={classes}\r\n          isError={isError}\r\n          isLoading={isLoading}\r\n          selectedGraphName={selectedGraphName}\r\n          prepArrayToShowInTextBox={prepArrayToShowInTextBox}\r\n          handleSelectData={handleSelectData}\r\n          handleTextBox={handleTextBox}\r\n        />\r\n      </SectionWrapper>\r\n      <SectionWrapper>\r\n        <p>{description}</p>\r\n      </SectionWrapper>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AltStats;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Route } from 'react-router-dom';\r\nimport DailyPage from './components/DailyPage/dailyPage';\r\nimport Header from './components/Header/header';\r\nimport Footer from './components/Footer/footer';\r\nimport Counties from './components/Counties/counties';\r\nimport Contact from './components/Contact/contact';\r\nimport AltStats from './components/AltStats/altStats';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        <Header />\r\n          <Route exact path=\"/\" component={DailyPage} />\r\n          <Route exact path=\"/counties\" component={Counties} />\r\n          <Route exact path=\"/contact\" component={Contact} />\r\n          <Route exact path=\"/stats\" component={AltStats} />\r\n        <Footer />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3MvGA\",\"navActive\":\"header_navActive__3wFy9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileStatsTextBox\":\"altTextBox_profileStatsTextBox__10xmE\",\"infoWrap\":\"altTextBox_infoWrap__2hOAm\",\"genericTextItem\":\"altTextBox_genericTextItem__1ZDbj\",\"rightSpan\":\"altTextBox_rightSpan__Q6YHD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"contact_section__BO-u0\",\"form\":\"contact_form__28AVJ\",\"gridTwo\":\"contact_gridTwo__3fqgK\",\"inputSection\":\"contact_inputSection__Mj76k\",\"formBtn\":\"contact_formBtn__1Ux52\",\"active\":\"contact_active__1hexa\",\"focus\":\"contact_focus__krUri\",\"formError\":\"contact_formError__3_NQT\",\"show\":\"contact_show__50b3c\",\"formSuccess\":\"contact_formSuccess__1fPnz\",\"formFail\":\"contact_formFail__2P18W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clickArrowsWrap\":\"clickArrows_clickArrowsWrap__1zdba\",\"dateSpan\":\"clickArrows_dateSpan__wdSgH\",\"clickArrows\":\"clickArrows_clickArrows__4rEdA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summaryWrap\":\"summary_summaryWrap__3euwc\",\"summaryInfoWrap\":\"summary_summaryInfoWrap__2H40J\",\"sectionHeading\":\"summary_sectionHeading__12M4H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tinyAxisGroupY\":\"tinyAxis_tinyAxisGroupY__3xUJO\",\"tinyAxisGroupX\":\"tinyAxis_tinyAxisGroupX__ifugj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"axisGroupY\":\"axis_axisGroupY__1NKPt\",\"axisGroupX\":\"axis_axisGroupX__2yVMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lineGraphCircle\":\"dots_lineGraphCircle__1hTSC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnGroupWrap\":\"selectGraphBtnGroup_btnGroupWrap__iCEKE\",\"tabBtn\":\"selectGraphBtnGroup_tabBtn__3vkhs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"barChartRect\":\"barChart_barChartRect__d34aE\",\"barChartSvg\":\"barChart_barChartSvg__8WkBg\",\"basicBtn\":\"barChart_basicBtn__2tn4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textItem\":\"textBox_textItem__HVXgf\",\"infoWrap\":\"textBox_infoWrap__2n_2T\",\"small\":\"textBox_small__29gI_\",\"rightSpan\":\"textBox_rightSpan__32LzX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrap\":\"layout_pageWrap__3QxV1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionWrapper\":\"sectionWrapper_sectionWrapper__PVw0U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tinySvgLine\":\"tinySvgLine_tinySvgLine__1umLw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summaryBox\":\"summaryBox_summaryBox__1CKy2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loading_loader__XPMoq\",\"load7\":\"loading_load7__q6uYE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forBreakPointBetween900And300\":\"dailyGraphs_forBreakPointBetween900And300__3ZKG1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionWrap\":\"sectionWrap_sectionWrap__1jN5n\",\"sectionMainWrap\":\"sectionWrap_sectionMainWrap__XyJx_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionMain\":\"sectionMain_sectionMain__2Q9DQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionSideWrap\":\"sectionSide_sectionSideWrap__jZ7Cf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionHeader\":\"sectionHeader_sectionHeader__370lI\"};"],"sourceRoot":""}